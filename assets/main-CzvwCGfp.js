(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}})();console.log("Portfolio artystyczne załadowane!");let T=[],C=[],M=[],w={},S="pl",u={},v={};function K(){return window.location.hostname.includes("github.io")?"/kogutowicz-art":""}function D(t){const e=K(),o=window.location.pathname;console.log("correctImagePath:",{imagePath:t,basePath:e,currentPath:o});const n=t.startsWith("/")?t.substring(1):t;let i;return o.includes("/pages/")||o.includes("/gallery.html")||o.includes("/about.html")||o.includes("/shop.html")?e?i=`${e}/${n}`:i=`../../${n}`:e?i=`${e}/${n}`:i=`./${n}`,console.log("correctImagePath wynik:",i),i}async function le(){try{const t=K(),e=window.location.pathname;let o=t;if(e.includes("/pages/")&&!t&&(o="../.."),u=await(await fetch(`${o}/src/data/json/ui${S==="en"?"_en":""}.json`)).json(),T=await(await fetch(`${o}/src/data/json/gallery.json`)).json(),S==="en"){const d=await(await fetch(`${o}/src/data/json/gallery_en.json`)).json();T=T.map(f=>{const m=d.find(g=>g.id===f.id);return m?{...f,...m}:f})}if(C=await(await fetch(`${o}/src/data/json/featured.json`)).json(),S==="en"){const d=await(await fetch(`${o}/src/data/json/featured_en.json`)).json();C=C.map(f=>{const m=d.find(g=>g.id===f.id);return m?{...f,...m}:f})}if(M=await(await fetch(`${o}/src/data/json/shop.json`)).json(),S==="en"){const d=await(await fetch(`${o}/src/data/json/shop_en.json`)).json();M=M.map(f=>{const m=d.find(g=>g.id===f.id);return m?{...f,...m}:f})}if(w=await(await fetch(`${o}/src/data/json/about${S==="en"?"_en":""}.json`)).json(),S==="en"){const d=await(await fetch(`${o}/src/data/json/about.json`)).json();d.artistPhoto&&(w.artistPhoto=d.artistPhoto)}v=await(await fetch(`${o}/src/data/json/site-config.json`)).json(),te(),je(),we()}catch(t){console.error("Błąd podczas ładowania danych:",t)}}function ce(){const t=document.querySelector(".featured-artworks");t&&(t.innerHTML="",C.forEach((e,o)=>{const n=document.createElement("div");n.className="featured-artwork-item",n.setAttribute("data-artwork-index",o);const i=D(e.image),s=e.positionX!==void 0?e.positionX:.5,a=e.positionY!==void 0?e.positionY:.5,l=`${s*100}% ${a*100}%`;n.innerHTML=`
      <div class="featured-artwork-image">
        <img src="${i}" alt="${e.title||"Obraz"}" loading="lazy" style="object-position: ${l};">
      </div>
      <div class="featured-artwork-info">
        <h3>${e.title||"Bez tytułu"}</h3>
        ${e.description?`<p>${e.description}</p>`:""}
      </div>
    `,n.addEventListener("click",()=>{Q(o,C,"featured")}),n.addEventListener("mouseenter",()=>{n.style.transform="translateY(-4px)"}),n.addEventListener("mouseleave",()=>{n.style.transform="translateY(0)"}),t.appendChild(n)}),ze(),Pe())}function $(t=T){const e=document.querySelector(".gallery-artworks");e&&(e.innerHTML="",t.forEach((o,n)=>{var r,y;const i=document.createElement("div");i.className="bg-white rounded shadow-md overflow-hidden",i.setAttribute("data-artwork-index",n);const s=D(o.image),a=o.positionX!==void 0?o.positionX:.5,l=o.positionY!==void 0?o.positionY:.5,p=`${a*100}% ${l*100}%`;i.innerHTML=`
      <div class="h-64 bg-gray-200 flex items-center justify-center overflow-hidden">
        <img src="${s}" alt="${o.title||"Obraz"}" class="w-full h-full object-cover" style="object-position: ${p};">
      </div>
      <div class="p-4">
        <h3 class="text-xl font-semibold mb-2">${o.title||"Bez tytułu"}</h3>
        ${o.technique||o.dimensions||o.year?`<p class="text-gray-600">${[o.technique,o.dimensions,o.year].filter(Boolean).join(", ")}</p>`:""}
        ${o.description?`<p class="text-sm mt-2">${o.description}</p>`:""}
        <p class="mt-2 ${o.available?"text-green-600":"text-gray-400"}">
          ${o.available?((r=u.common)==null?void 0:r.available)||"Dostępny":((y=u.common)==null?void 0:y.unavailable)||"Niedostępny"}
        </p>
      </div>
    `,i.addEventListener("click",()=>{Q(n,t,"gallery")}),e.appendChild(i)}))}function de(){var o;const t=document.querySelector(".shop-products");if(!t)return;if(t.innerHTML="",!M||M.length===0){t.className="flex items-center justify-center min-h-64",t.innerHTML=`
      <div class="text-center">
        <div class="text-gray-400 mb-4">
          <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
          </svg>
        </div>
        <p class="text-lg text-gray-600">${((o=u.sections)==null?void 0:o.shopEmpty)||"Aktualnie nie ma niczego wystawionego na sprzedaż"}</p>
      </div>
    `;return}t.className="shop-products grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",M.forEach(n=>{var f,m,g,x;const i=document.createElement("div");i.className="bg-white rounded shadow-md overflow-hidden";const s=D(n.image),a=n.positionX!==void 0?n.positionX:.5,l=n.positionY!==void 0?n.positionY:.5,p=`${a*100}% ${l*100}%`,r=n.available!==!1,y=r?"shop-purchase-button bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 inline-block font-semibold transition-all duration-300 transform":"bg-gray-400 text-gray-600 px-4 py-2 rounded cursor-not-allowed inline-block",h=r?((f=u.common)==null?void 0:f.goToPurchase)||"Przejdź do zakupu":((m=u.common)==null?void 0:m.notAvailable)||"Niedostępne",d=r?`href="${n.purchaseUrl}" target="_blank" rel="noopener noreferrer"`:'onclick="return false;"';i.innerHTML=`
      <div class="h-64 bg-gray-200 flex items-center justify-center overflow-hidden cursor-pointer shop-product-image" data-product-id="${n.id}">
        <img src="${s}" alt="${n.title||"Produkt"}" class="w-full h-full object-cover" style="object-position: ${p};">
      </div>
      <div class="p-4">
        <h3 class="text-xl font-semibold mb-2">${n.title||"Bez tytułu"}</h3>
        ${n.description?`<p class="text-gray-600">${n.description}</p>`:""}
        ${n.dimensions?`<p class="text-sm text-gray-500 mt-1"><span class="font-medium">${((g=u.common)==null?void 0:g.dimensions)||"Wymiary"}:</span> ${n.dimensions}</p>`:""}
        ${n.price?`<p class="text-purple-600 font-bold mt-2">${n.price} zł</p>`:""}        <div class="mt-4 flex items-center justify-between">
          <a ${d} class="${y}">
            ${h}
          </a>
          ${r?"":`<span class="text-gray-400 font-semibold text-sm">${((x=u.common)==null?void 0:x.sold)||"Sprzedane"}</span>`}
        </div>
      </div>
    `,t.appendChild(i)}),document.querySelectorAll(".shop-product-image").forEach(n=>{n.addEventListener("click",i=>{const s=parseInt(n.getAttribute("data-product-id")),a=M.findIndex(l=>l.id===s);a!==-1&&Q(0,[M[a]],"shop")})})}function be(t,e){if(!t)return null;const o=t.replace(/-/g," ");if(e.includes(o))return o;o.replace(/a/g,"ą").replace(/c/g,"ć").replace(/e/g,"ę").replace(/l/g,"ł").replace(/n/g,"ń").replace(/o/g,"ó").replace(/s/g,"ś").replace(/z/g,"ź");for(const n of e)if(n.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z")===o)return n;return null}function oe(t){if(!t)return T;const e=t.toLowerCase();return T.filter(o=>o.categories&&Array.isArray(o.categories)&&o.categories.some(n=>n&&n.toLowerCase()===e))}function ne(t){return u.categories&&u.categories[t]?u.categories[t]:t}function ue(){const t=document.querySelector(".category-filters");if(!t)return;t.className="category-filters loading";const e=new Map;T.forEach(r=>{r.categories&&Array.isArray(r.categories)&&r.categories.forEach(y=>{y&&y.trim()&&e.set(y,(e.get(y)||0)+1)})});const o=Array.from(e.entries()).sort((r,y)=>y[1]-r[1]).map(r=>r[0]);t.innerHTML="";const n=document.createElement("button");n.className="category-chip category-chip-active",n.textContent=`${ne("wszystkie")} (${T.length})`,n.setAttribute("data-category","wszystkie"),n.addEventListener("click",()=>{$(),i(n),window.history.replaceState(null,null,window.location.pathname)}),t.appendChild(n),o.forEach(r=>{const y=e.get(r),h=document.createElement("button");h.className="category-chip category-chip-inactive",h.textContent=`${ne(r)} (${y})`,h.setAttribute("data-category",r),h.addEventListener("click",()=>{const d=oe(r);$(d),i(h);const f=r.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z").replace(/\s+/g,"-");window.history.replaceState(null,null,`${window.location.pathname}#${f}`)}),t.appendChild(h)});function i(r){t.querySelectorAll(".category-chip").forEach(y=>{y.className="category-chip category-chip-inactive"}),r.className="category-chip category-chip-active"}const s=window.location.hash.substring(1),a=be(s,o);let l=null,p=n;if(a&&a!=="wszystkie"){const r=Array.from(t.querySelectorAll(".category-chip")).find(y=>y.getAttribute("data-category")===a);r&&(l=a,p=r)}if(l){const r=oe(l);$(r)}else $();i(p),setTimeout(()=>{t.classList.remove("loading")},300)}function _(){if(!document.querySelector(".about-artist-content"))return;const e=document.querySelector(".artist-photo"),o=document.querySelector(".artist-biography"),n=document.querySelector(".artist-education"),i=document.querySelector(".artist-achievements"),s=document.querySelector(".artist-exhibitions");if(e&&w.artistPhoto){e.innerHTML=`
      <img src="${D(w.artistPhoto)}" alt="${w.artistName||"Artysta"}" 
           class="w-full h-full object-cover rounded">
    `,e.classList.add("has-image");const a=e.querySelector("img");a&&(a.onload=()=>{I&&I(),I=se()},a.complete&&(I&&I(),I=se()))}o&&w.biography&&Array.isArray(w.biography)&&w.biography.length>0&&(o.innerHTML="",w.biography.forEach(a=>{if(a&&a.trim()){const l=document.createElement("p");l.className="text-gray-700 mb-4";const p=a.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");l.innerHTML=p,o.appendChild(l)}})),n&&w.education&&Array.isArray(w.education)&&w.education.length>0&&(n.innerHTML="",w.education.forEach(a=>{if(a&&a.trim()){const l=document.createElement("li");l.className="list-disc list-inside text-gray-700";const p=a.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");l.innerHTML=p,n.appendChild(l)}})),i&&w.achievements&&Array.isArray(w.achievements)&&w.achievements.length>0&&(i.innerHTML="",w.achievements.forEach(a=>{if(a&&a.trim()){const l=document.createElement("li");l.className="list-disc list-inside text-gray-700";const p=a.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");l.innerHTML=p,i.appendChild(l)}})),s&&w.exhibitions&&Array.isArray(w.exhibitions)&&w.exhibitions.length>0&&(s.innerHTML="",w.exhibitions.forEach(a=>{if(a&&a.trim()){const l=document.createElement("li");l.className="list-disc list-inside text-gray-700";const p=a.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");l.innerHTML=p,s.appendChild(l)}}))}function we(){const t=window.location.pathname;t.includes("gallery.html")?($(),ue()):t.includes("shop.html")?de():t.includes("about.html")?_():(ce(),Ce())}function xe(){const t=document.getElementById("mobile-menu-button"),e=document.getElementById("mobile-menu");if(!t||!e)return;let o=!1;function n(){o=!o,o?(e.classList.remove("hidden"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-label","Zamknij menu"),t.innerHTML=`
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      `,e.focus()):(e.classList.add("hidden"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-label","Otwórz menu"),t.innerHTML=`
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      `)}t.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),n()}),t.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),s.stopPropagation(),n())}),window.addEventListener("resize",()=>{window.innerWidth>=768&&o&&n()}),e.querySelectorAll("a").forEach(s=>{s.addEventListener("click",()=>{o&&n()})}),document.addEventListener("keydown",s=>{s.key==="Escape"&&o&&(n(),t.focus())}),document.addEventListener("click",s=>{o&&!e.contains(s.target)&&!t.contains(s.target)&&n()}),e.addEventListener("keydown",s=>{const a=e.querySelectorAll("a"),l=Array.from(a).indexOf(document.activeElement);if(s.key==="ArrowDown"){s.preventDefault();const p=l<a.length-1?l+1:0;a[p].focus()}else if(s.key==="ArrowUp"){s.preventDefault();const p=l>0?l-1:a.length-1;a[p].focus()}else s.key==="Home"?(s.preventDefault(),a[0].focus()):s.key==="End"&&(s.preventDefault(),a[a.length-1].focus())})}let c={isOpen:!1,currentIndex:0,artworks:[],overlay:null,source:"gallery",isMaximized:!1};function Q(t,e,o="gallery"){c.currentIndex=t,c.artworks=e,c.isOpen=!0,c.source=o,document.body.classList.add("focus-mode-open"),c.overlay||Le(),ee(),c.overlay.classList.add("active"),Ee()}function U(){c.isOpen&&(c.isOpen=!1,c.isMaximized=!1,document.body.classList.remove("focus-mode-open"),c.overlay&&(c.overlay.classList.remove("active"),setTimeout(()=>{c.overlay&&!c.isOpen&&(c.overlay.remove(),c.overlay=null)},300)),ke())}function Le(){const t=document.createElement("div");t.className="focus-mode-overlay",t.innerHTML=`
    <button class="focus-close-button" aria-label="Zamknij tryb skupienia">
      <svg class="focus-close-icon" viewBox="0 0 24 24">
        <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <button class="focus-maximize-button" aria-label="Maksymalizuj obraz">
      <svg class="focus-maximize-icon" viewBox="0 0 24 24">
        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <button class="focus-nav-button prev" aria-label="Poprzedni obraz">
      <svg class="focus-nav-icon" viewBox="0 0 24 24">
        <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <button class="focus-nav-button next" aria-label="Następny obraz">
      <svg class="focus-nav-icon" viewBox="0 0 24 24">
        <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <div class="focus-mode-container">
      <img class="focus-mode-image" src="" alt="" />
      
      <div class="focus-mode-info">
        <h3 class="text-2xl font-bold mb-2"></h3>
        <div class="focus-mode-details"></div>
        <p class="focus-mode-description mt-3 text-gray-700"></p>
        <div class="focus-mode-availability-or-purchase mt-3"></div>
        <div class="focus-mode-gallery-button mt-4" style="display: none;">
          <a href="#" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 inline-block">
            <span class="gallery-button-text">Zobacz w Galerii</span>
          </a>
        </div>
      </div>
    </div>
  `,document.body.appendChild(t),c.overlay=t;const e=t.querySelector(".focus-close-button"),o=t.querySelector(".focus-maximize-button"),n=t.querySelector(".focus-nav-button.prev"),i=t.querySelector(".focus-nav-button.next");e.addEventListener("click",U),o.addEventListener("click",me),n.addEventListener("click",()=>j("prev")),i.addEventListener("click",()=>j("next")),t.addEventListener("click",s=>{s.target===t&&U()})}function Se(t){return t.galleryCategory?`./src/pages/gallery.html#${t.galleryCategory.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z").replace(/\s+/g,"-")}`:"./src/pages/gallery.html"}function ee(){var z,k,E,q,H;if(!c.overlay)return;const t=c.artworks[c.currentIndex];if(!t)return;const e=c.overlay.querySelector(".focus-mode-container"),o=c.overlay.querySelector(".focus-mode-info"),n=c.overlay.querySelector(".focus-maximize-button"),i=n.querySelector(".focus-maximize-icon");c.isMaximized?(e.classList.add("maximized"),o.style.display="none",i.innerHTML=`
      <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `,n.setAttribute("aria-label","Zmniejsz obraz")):(e.classList.remove("maximized"),o.style.display="block",i.innerHTML=`
      <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `,n.setAttribute("aria-label","Maksymalizuj obraz"));const s=c.overlay.querySelector(".focus-mode-image"),a=c.overlay.querySelector(".focus-mode-info h3"),l=c.overlay.querySelector(".focus-mode-details"),p=c.overlay.querySelector(".focus-mode-description"),r=c.overlay.querySelector(".focus-mode-availability-or-purchase");s.classList.add("loading");const y=D(t.image),h=t.positionX!==void 0?t.positionX:.5,d=t.positionY!==void 0?t.positionY:.5,f=`${h*100}% ${d*100}%`;s.src=y,s.alt=t.title||"Obraz",s.style.objectPosition=f,s.onload=()=>{s.classList.remove("loading")},a.textContent=t.title||"Bez tytułu";const m=[];if(c.source==="shop"?(t.description&&m.push(t.description),t.dimensions&&m.push(t.dimensions)):(t.technique&&m.push(t.technique),t.dimensions&&m.push(t.dimensions),t.year&&m.push(t.year)),l.innerHTML=m.length>0?`<p class="text-gray-500">${m.join(" • ")}</p>`:"",c.source==="shop"?p.style.display="none":(p.textContent=t.description||"",p.style.display=t.description?"block":"none"),c.source==="shop"){const B=t.available!==!1,F=t.price?`<span class="text-purple-600 font-bold text-lg">${t.price} zł</span>`:"",P=B?"bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 font-semibold transition-all duration-300 transform hover:scale-105 inline-block":"bg-gray-400 text-gray-600 px-4 py-2 rounded cursor-not-allowed inline-block",Z=B?((z=u.common)==null?void 0:z.goToPurchase)||"Przejdź do zakupu":((k=u.common)==null?void 0:k.notAvailable)||"Niedostępne",N=B?`href="${t.purchaseUrl}" target="_blank" rel="noopener noreferrer"`:'onclick="return false;"';r.innerHTML=`
      <div class="flex items-center justify-center gap-4">
        ${F}
        <a ${N} class="${P}">
          ${Z}
        </a>
      </div>
    `}else c.source==="gallery"?r.innerHTML=`
      <span class="${t.available?"text-green-600":"text-gray-400"} font-semibold">
        ${t.available?((E=u.common)==null?void 0:E.available)||"Dostępny":((q=u.common)==null?void 0:q.unavailable)||"Niedostępny"}
      </span>
    `:r.innerHTML="";const g=c.overlay.querySelector(".focus-mode-gallery-button"),x=g==null?void 0:g.querySelector("a"),b=g==null?void 0:g.querySelector(".gallery-button-text");if(c.source==="featured"&&t.galleryCategory){g.style.display="block";const B=Se(t);x.href=B,b.textContent=((H=u.common)==null?void 0:H.viewInGallery)||"Zobacz w Galerii"}else g.style.display="none";pe()}function j(t){const e=c.artworks.length;t==="next"?c.currentIndex=(c.currentIndex+1)%e:t==="prev"&&(c.currentIndex=(c.currentIndex-1+e)%e),ee()}function pe(){if(!c.overlay)return;const t=c.overlay.querySelector(".focus-nav-button.prev"),e=c.overlay.querySelector(".focus-nav-button.next");if(c.source==="shop"){t.style.display="none",e.style.display="none";return}const o=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0||window.innerWidth<768,i=c.artworks.length>1&&!o();t.style.display=i?"flex":"none",e.style.display=i?"flex":"none"}function me(){if(!c.overlay)return;const t=c.overlay.querySelector(".focus-mode-container");c.overlay.querySelector(".focus-mode-image");const e=c.overlay.querySelector(".focus-mode-info"),o=c.overlay.querySelector(".focus-maximize-button"),n=o.querySelector(".focus-maximize-icon");t.classList.contains("maximized")?(t.classList.remove("maximized"),e.style.display="block",c.isMaximized=!1,n.innerHTML=`
      <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `,o.setAttribute("aria-label","Maksymalizuj obraz")):(t.classList.add("maximized"),e.style.display="none",c.isMaximized=!0,n.innerHTML=`
      <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `,o.setAttribute("aria-label","Zmniejsz obraz"))}let X,Y,O,W,R,L={startX:0,startY:0,startTime:0,isHorizontalSwipe:!1,minSwipeDistance:50,maxSwipeTime:1e3};function Ee(){X=t=>{if(c.isOpen)switch(t.key){case"Escape":t.preventDefault(),U();break;case"ArrowLeft":t.preventDefault(),j("prev");break;case"ArrowRight":t.preventDefault(),j("next");break;case"f":case"F":t.preventDefault(),me();break}},Y=()=>{c.isOpen&&(ee(),pe())},O=t=>{c.isOpen&&c.source!=="shop"&&(c.artworks.length<=1||(L.startX=t.touches[0].clientX,L.startY=t.touches[0].clientY,L.startTime=Date.now(),L.isHorizontalSwipe=!1))},W=t=>{if(!c.isOpen||L.startX===0)return;const e=t.touches[0].clientX,o=t.touches[0].clientY,n=e-L.startX,i=o-L.startY,s=Math.abs(n),a=Math.abs(i);if(!L.isHorizontalSwipe&&(s>15||a>15))if(s>a&&s>15)L.isHorizontalSwipe=!0,t.preventDefault();else{L.startX=0,L.startY=0;return}L.isHorizontalSwipe&&t.preventDefault()},R=t=>{if(!c.isOpen||L.startX===0)return;const o=Date.now()-L.startTime;if(L.isHorizontalSwipe&&o<=L.maxSwipeTime){const i=t.changedTouches[0].clientX-L.startX;Math.abs(i)>=L.minSwipeDistance&&(i>0?j("prev"):j("next"))}L.startX=0,L.startY=0,L.startTime=0,L.isHorizontalSwipe=!1},document.addEventListener("keydown",X),window.addEventListener("resize",Y),c.overlay&&(c.overlay.addEventListener("touchstart",O,{passive:!1}),c.overlay.addEventListener("touchmove",W,{passive:!1}),c.overlay.addEventListener("touchend",R,{passive:!1}))}function ke(){X&&document.removeEventListener("keydown",X),Y&&window.removeEventListener("resize",Y),c.overlay&&(O&&c.overlay.removeEventListener("touchstart",O),W&&c.overlay.removeEventListener("touchmove",W),R&&c.overlay.removeEventListener("touchend",R))}function ze(){const t={deadZone:{small:.08,medium:.12,large:.15},maxSpeed:{small:120,medium:130,large:140},minSpeed:300,edgeBoost:100,edgeThreshold:.8,accelerationCurve:1,animationInterval:12,wheelSensitivity:{small:95,medium:85,large:75},keyboardJump:{small:200,medium:250,large:300}},e=document.querySelector(".featured-artworks.horizontal-scroll"),o=document.querySelector(".featured-artworks-container");if(!e||!o)return;let n,i=null;const s=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0;if(!s()){const d=()=>window.innerWidth>=2200;let f=!1;o.addEventListener("mouseenter",()=>{d()||(f=!0)}),o.addEventListener("mouseleave",()=>{f=!1,i&&(clearInterval(i),i=null)}),o.addEventListener("mousemove",m=>{if(!f||d())return;const g=o.getBoundingClientRect(),x=m.clientX-g.left,b=g.width,z=b/2,k=(x-z)/z;let E;if(b<600?E=t.deadZone.small:b<900?E=t.deadZone.medium:E=t.deadZone.large,Math.abs(k)<E){i&&(clearInterval(i),i=null);return}const q=(Math.abs(k)-E)/(1-E),H=Math.pow(q,t.accelerationCurve),F=Math.abs(k)>t.edgeThreshold?t.edgeBoost:1;let P;b<600?P=t.maxSpeed.small:b<900?P=t.maxSpeed.medium:P=t.maxSpeed.large;const Z=P*F,N=t.minSpeed,he=N+(Z-N)*H,G=k>0?1:-1;i&&clearInterval(i),i=setInterval(()=>{if(!f){clearInterval(i),i=null;return}const ge=he*G;e.scrollLeft+=ge;const ye=e.scrollLeft<=0,ve=e.scrollLeft>=e.scrollWidth-e.clientWidth;(G<0&&ye||G>0&&ve)&&(clearInterval(i),i=null)},t.animationInterval)})}e.addEventListener("wheel",d=>{if(window.innerWidth>=2200)return;const f=e.scrollLeft===0,m=e.scrollLeft>=e.scrollWidth-e.clientWidth;if(Math.abs(d.deltaX)>Math.abs(d.deltaY)||!f&&!m){d.preventDefault();const g=e.getBoundingClientRect().width;let x;g<600?x=t.wheelSensitivity.small:g<900?x=t.wheelSensitivity.medium:x=t.wheelSensitivity.large;const b=d.deltaY*x;e.scrollLeft+=b,clearTimeout(n),n=setTimeout(()=>{},150)}},{passive:!1});let a=0,l=0,p=!1,r=0;e.addEventListener("touchstart",d=>{window.innerWidth>=2200||(a=d.touches[0].clientX,l=d.touches[0].clientY,p=!1,r=e.scrollLeft,i&&(clearInterval(i),i=null))},{passive:!0}),e.addEventListener("touchmove",d=>{if(window.innerWidth>=2200||!a||!l)return;const f=d.touches[0].clientX,m=d.touches[0].clientY,g=f-a,x=m-l,b=Math.abs(g),z=Math.abs(x);if(!p&&(b>15||z>15))if(b>z&&b>15)p=!0,d.cancelable&&d.preventDefault();else{p=!1;return}if(p&&d.cancelable){d.preventDefault();const k=r-g;e.scrollLeft=Math.max(0,Math.min(k,e.scrollWidth-e.clientWidth))}},{passive:!1}),e.addEventListener("touchend",d=>{window.innerWidth>=2200||(a=0,l=0,p=!1,r=0)},{passive:!0}),e.addEventListener("touchcancel",d=>{window.innerWidth>=2200||(r!==0&&(e.scrollLeft=r),a=0,l=0,p=!1,r=0)},{passive:!0}),e.addEventListener("keydown",d=>{if(window.innerWidth>=2200)return;const f=e.getBoundingClientRect().width;let m;f<600?m=t.keyboardJump.small:f<900?m=t.keyboardJump.medium:m=t.keyboardJump.large,d.key==="ArrowLeft"?(d.preventDefault(),e.scrollLeft-=m):d.key==="ArrowRight"&&(d.preventDefault(),e.scrollLeft+=m)}),window.innerWidth<1600&&e.setAttribute("tabindex","0");function y(){const d=document.querySelector(".desktop-scroll-hint"),f=document.querySelector(".featured-artworks-container"),m=document.querySelector(".featured-artworks.horizontal-scroll");if(!d||!f||!m||s())return;let g=!1;function x(){const E=m.clientWidth;return m.scrollWidth>E}function b(){x()?(d.style.display="block",g||setTimeout(()=>{!g&&x()&&d.classList.add("visible")},2e3)):d.style.display="none"}b(),window.addEventListener("resize",()=>{setTimeout(b,100)}),m.querySelectorAll("img").forEach(E=>{E.complete?b():E.addEventListener("load",b)});const k=()=>{g=!0,d.classList.remove("visible"),setTimeout(()=>{d.style.display="none"},500)};f.addEventListener("mouseenter",k,{once:!0}),m.addEventListener("wheel",k,{once:!0})}y();const h=()=>{window.innerWidth>=1600?(i&&(clearInterval(i),i=null),e.removeAttribute("tabindex")):e.setAttribute("tabindex","0")};window.addEventListener("resize",h),h(),$e()}function Ce(){const t=document.querySelector(".featured-artworks-container");if(!t)return;let e=!1;new IntersectionObserver(n=>{n.forEach(i=>{e=i.isIntersecting})},{threshold:.3,rootMargin:"0px"}).observe(t),window.addEventListener("wheel",n=>{if(!e)return;const i=document.querySelector(".featured-artworks.horizontal-scroll");if(!i)return;const s=i.scrollLeft===0,a=i.scrollLeft>=i.scrollWidth-i.clientWidth;n.deltaY>0&&s||n.deltaY<0&&a||Math.abs(n.deltaX)>Math.abs(n.deltaY)*.5&&(n.preventDefault(),i.scrollLeft+=n.deltaY)},{passive:!1})}function Ie(){const t=document.querySelector(".featured-artworks");if(!t)return;new IntersectionObserver(o=>{o.forEach(n=>{n.isIntersecting&&n.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -100px 0px"}).observe(t)}function Me(){const t=document.querySelector(".contact-section");if(!t)return;new IntersectionObserver(o=>{o.forEach(n=>{n.isIntersecting&&n.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -100px 0px"}).observe(t)}function ie(){const t=document.getElementById("top-bar");if(!t)return;const e=window.location.pathname;if(!(e==="/"||e.endsWith("/index.html")||e===""||e.includes("kogutowicz-art")&&!e.includes("/pages/")))return;const n=document.querySelector(".contact-section");if(!n)return;new IntersectionObserver(s=>{s.forEach(a=>{a.isIntersecting?(t.style.transform="translateY(-100%)",t.style.opacity="0"):(t.style.transform="translateY(0)",t.style.opacity="1")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}).observe(n)}function Te(){document.querySelectorAll(".social-icon-link").forEach(e=>{const o=e.querySelector("lottie-player");o&&(o.addEventListener("ready",()=>{o.stop()}),e.addEventListener("mouseenter",()=>{o.play()}),e.addEventListener("mouseleave",()=>{o.stop(),o.seek(0)}))})}document.addEventListener("DOMContentLoaded",async()=>{console.log("DOMContentLoaded - inicjalizacja rozpoczęta"),Ne(),await le(),te(),await J(),xe();const t=window.location.pathname,e=t==="/"||t.endsWith("/index.html")||t===""||t.includes("kogutowicz-art")&&!t.includes("/pages/");console.log("Ścieżka:",t,"Czy strona główna:",e),e?(console.log("Inicjalizuję hero slider..."),A=new Be,Ie(),Me(),ie()):(console.log("Nie jestem na stronie głównej, pomijam slider"),ie()),Te(),Ae()});function Ae(){document.querySelectorAll(".top-social-icon, .footer-github-icon").forEach(o=>{const n=o.querySelector(".social-icon-static"),i=o.querySelector(".social-icon-animated");n&&i&&(i.stop(),o.addEventListener("mouseenter",()=>{n.style.opacity="0",i.style.opacity="1",i.play()}),o.addEventListener("mouseleave",()=>{n.style.opacity="1",i.style.opacity="0",i.stop(),i.seek(0)}))}),document.querySelectorAll(".footer-author-link").forEach(o=>{const n=o.querySelector(".footer-github-icon");if(n){const i=n.querySelector(".social-icon-static"),s=n.querySelector(".social-icon-animated");i&&s&&(o.addEventListener("mouseenter",()=>{i.style.opacity="0",s.style.opacity="1",s.play()}),o.addEventListener("mouseleave",()=>{i.style.opacity="1",s.style.opacity="0",s.stop(),s.seek(0)}))}})}window.addEventListener("beforeunload",()=>{I&&(I(),I=null),A&&(A.destroy(),A=null)});function se(){const t=document.querySelector(".artist-photo");if(!t)return;const e=t.querySelector("img");if(!e)return;const o=3,n=1e3;function i(a){const l=t.getBoundingClientRect();l.left+l.width/2,l.top+l.height/2;const p=a.clientX,r=a.clientY,y=window.innerWidth/2,h=window.innerHeight/2,d=(p-y)/y,f=(r-h)/h,m=d*o,g=-f*o;e&&(e.style.transform=`
        perspective(${n}px)
        rotateX(${g}deg)
        rotateY(${m}deg)
        scale3d(1.02, 1.02, 1.02)
      `),t.classList.add("active")}function s(){e&&(e.style.transform=`
        perspective(${n}px)
        rotateX(0deg)
        rotateY(0deg)
        scale3d(1, 1, 1)
      `),t.classList.remove("active")}return document.addEventListener("mousemove",i),document.addEventListener("mouseleave",s),document.addEventListener("touchstart",s),document.addEventListener("touchend",s),function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseleave",s),document.removeEventListener("touchstart",s),document.removeEventListener("touchend",s),s()}}let I=null;class Be{constructor(){this.currentSlide=0,this.slides=[],this.slideImages=[],this.autoPlayInterval=null,this.autoPlayDelay=8e3,this.container=document.getElementById("slider-container"),this.dotsContainer=document.getElementById("slider-dots"),this.prevButton=document.getElementById("prev-slide"),this.nextButton=document.getElementById("next-slide"),this.overlayContent=document.querySelector("#hero-slider .text-center"),console.log("HeroSlider konstruktor:",{container:this.container,overlayContent:this.overlayContent,dotsContainer:this.dotsContainer}),this.featuredData=[],this.init()}async init(){if(console.log("HeroSlider.init() rozpoczęty"),!this.container){console.error("Brak kontenera slidera!");return}this.showLoader();try{console.log("Czekam na dane featured..."),await this.waitForFeaturedData(),console.log("Dane featured załadowane:",this.featuredData),console.log("Rozpoczynam preload obrazów..."),await this.preloadImages(),console.log("Obrazy preloadowane"),this.hideLoader(),console.log("Tworzę slides..."),this.createSlides(),console.log("Tworzę dots..."),this.createDots(),console.log("Dodaję event listenery..."),this.addEventListeners(),console.log("Pokazuję pierwszy slide..."),this.showSlide(0),console.log("Rozpocznij autoplay..."),this.startAutoPlay(),console.log("HeroSlider inicjalizacja zakończona pomyślnie")}catch(e){console.error("Błąd podczas inicjalizacji slidera:",e),this.hideLoader()}}async waitForFeaturedData(){console.log("Czekam na featuredArtworks...",C);let e=0;const o=50;for(;(!C||C.length===0)&&e<o;)await new Promise(n=>setTimeout(n,100)),e++,e%10===0&&console.log(`Próba ${e}/50 - featuredArtworks:`,C);if(!C||C.length===0)throw new Error("Nie udało się załadować danych featured po 5 sekundach");this.featuredData=C,console.log("Dane featured załadowane pomyślnie:",this.featuredData)}showLoader(){this.container&&(this.container.innerHTML=`
        <div class="slider-image-preloader">
          <div class="spinner"></div>
        </div>
      `)}hideLoader(){var o;const e=(o=this.container)==null?void 0:o.querySelector(".slider-image-preloader");e&&e.remove()}async preloadImages(){console.log("Rozpoczynam ładowanie obrazów featured:",this.featuredData);const e=this.featuredData.map(n=>new Promise((i,s)=>{const a=new Image;a.onload=()=>{console.log(`Załadowano obraz: ${n.title} - ${a.src}`),i({img:a,artwork:n})},a.onerror=()=>{console.error(`Błąd ładowania obrazu: ${n.image}`),s(new Error(`Nie można załadować obrazu: ${n.image}`))};const l=D(n.image);console.log(`Próba załadowania: ${n.image} -> ${l}`),a.src=l})),o=await Promise.all(e);this.slideImages=o,console.log("Wszystkie obrazy załadowane:",this.slideImages)}createSlides(){console.log("createSlides rozpoczęte, container:",this.container),this.slideImages.forEach(({img:e,artwork:o},n)=>{const i=document.createElement("img");i.className="slider-image",i.src=e.src,i.alt=o.title,i.loading="eager",i.style.objectFit="cover",i.style.width="100%",i.style.height="100%";const s=o.positionX||.5,a=o.positionY||.5;i.style.objectPosition=`${s*100}% ${a*100}%`,this.container.appendChild(i),this.slides.push({element:i,artwork:o})}),console.log("createSlides zakończone. Liczba slajdów:",this.slides.length)}createDots(){this.dotsContainer&&(this.dotsContainer.innerHTML="",this.slides.forEach((e,o)=>{const n=document.createElement("button");n.className="slider-dot",n.setAttribute("aria-label",`Przejdź do slajdu ${o+1}`),n.addEventListener("click",()=>this.goToSlide(o)),this.dotsContainer.appendChild(n)}))}addEventListeners(){console.log("Dodaję event listenery dla slidera..."),console.log("Elementy slidera:",{container:!!this.container,prevButton:!!this.prevButton,nextButton:!!this.nextButton,dotsContainer:!!this.dotsContainer}),this.prevButton?this.prevButton.addEventListener("click",()=>this.prevSlide()):console.warn("Brak przycisku prev!"),this.nextButton?this.nextButton.addEventListener("click",()=>this.nextSlide()):console.warn("Brak przycisku next!"),document.addEventListener("keydown",e=>{e.key==="ArrowLeft"?this.prevSlide():e.key==="ArrowRight"&&this.nextSlide()}),this.container&&(this.container.addEventListener("mouseenter",()=>this.pauseAutoPlay()),this.container.addEventListener("mouseleave",()=>this.startAutoPlay())),this.addPointerSupport(),this.addTouchEventsBackup(),console.log("Event listenery zostały dodane")}addPointerSupport(){const e=document.getElementById("hero-slider");if(!e||!("PointerEvent"in window))return;let o=0,n=0,i=!1,s=0,a=!1;const l=50,p=800,r=150,y=30;e.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(o=h.clientX,n=h.clientY,s=Date.now(),i=!0,a=!1,this.pauseAutoPlay(),e.setPointerCapture(h.pointerId))},{passive:!0}),e.addEventListener("pointermove",h=>{if(!i||h.pointerType!=="touch")return;const d=h.clientX,f=h.clientY,m=Math.abs(d-o),g=Math.abs(f-n);if(m>y||g>y)if(m>g)a||(a=!0),h.preventDefault();else{i=!1,this.startAutoPlay();return}},{passive:!1}),e.addEventListener("pointerup",h=>{if(!i||h.pointerType!=="touch")return;const d=h.clientX,f=h.clientY,m=Date.now(),g=o-d,x=Math.abs(n-f),b=m-s,z=Math.abs(g);a&&z>=l&&b<=p&&x<=r?(g>0?this.nextSlide():this.prevSlide(),setTimeout(()=>{this.startAutoPlay()},500)):this.startAutoPlay(),i=!1,a=!1},{passive:!0}),e.addEventListener("pointercancel",h=>{i&&h.pointerType==="touch"&&(i=!1,a=!1,this.startAutoPlay())},{passive:!0})}addTouchEventsBackup(){const e=document.getElementById("hero-slider");if(!e)return;let o=0,n=0,i=0,s=!1;const a=50,l=800,p=150;e.addEventListener("touchstart",r=>{o=r.touches[0].clientX,n=r.touches[0].clientY,i=Date.now(),s=!1,this.pauseAutoPlay()},{passive:!0}),e.addEventListener("touchmove",r=>{if(!o||!n)return;const y=r.touches[0].clientX,h=r.touches[0].clientY,d=Math.abs(y-o),f=Math.abs(h-n);if(!s&&(d>15||f>15))if(d>f&&d>15)s=!0,r.preventDefault();else{o=0,n=0,this.startAutoPlay();return}s&&r.preventDefault()},{passive:!1}),e.addEventListener("touchend",r=>{if(!o||!n)return;const h=Date.now()-i,d=r.changedTouches[0],f=o-d.clientX,m=Math.abs(n-d.clientY),g=Math.abs(f);s&&g>=a&&h<=l&&m<=p?(f>0?this.nextSlide():this.prevSlide(),setTimeout(()=>{this.startAutoPlay()},500)):this.startAutoPlay(),o=0,n=0,i=0,s=!1},{passive:!1}),e.addEventListener("touchcancel",r=>{o=0,n=0,i=0,s=!1,this.startAutoPlay()},{passive:!0})}showSlide(e){e<0||e>=this.slides.length||(this.slides.forEach((o,n)=>{o.element.classList.remove("active")}),this.slides[e].element.classList.add("active"),this.updateOverlayContent(e),this.updateDots(e),this.currentSlide=e)}updateOverlayContent(e){var s;if(!this.overlayContent)return;const o=this.slides[e].artwork,n=this.getCategorySlug(o),i=((s=u.common)==null?void 0:s.viewInGallery)||"Zobacz w Galerii";this.overlayContent.innerHTML=`
      <h1 class="text-5xl md:text-7xl font-bold mb-6 opacity-0 animate-fade-in">${o.title}</h1>
      <p class="text-xl md:text-2xl mb-8 opacity-0 animate-fade-in-delay">
        ${o.description}
      </p>
      <div class="opacity-0 animate-fade-in-delay-2">
        <a href="./src/pages/gallery.html#${n}" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105">
          ${i}
        </a>
      </div>
    `}getCategorySlug(e){return(e.galleryCategory||"wszystkie").replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z").replace(/\s+/g,"-")}updateDots(e){if(!this.dotsContainer)return;this.dotsContainer.querySelectorAll(".slider-dot").forEach((n,i)=>{n.classList.toggle("active",i===e)})}nextSlide(){const e=(this.currentSlide+1)%this.slides.length;this.goToSlide(e)}prevSlide(){const e=this.currentSlide===0?this.slides.length-1:this.currentSlide-1;this.goToSlide(e)}goToSlide(e){this.showSlide(e),this.restartAutoPlay()}startAutoPlay(){this.pauseAutoPlay(),this.autoPlayInterval=setInterval(()=>{this.nextSlide()},this.autoPlayDelay)}pauseAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}restartAutoPlay(){this.pauseAutoPlay(),this.startAutoPlay()}destroy(){this.pauseAutoPlay()}async refreshSlider(){try{console.log("Rozpoczynam odświeżanie slidera po zmianie języka..."),this.pauseAutoPlay(),await this.waitForFeaturedData(),console.log("Nowe dane featured załadowane:",this.featuredData),await this.preloadImages(),console.log("Obrazy przeładowane"),this.slides=[],this.container.innerHTML="",this.createSlides(),this.createDots();const e=this.currentSlide<this.slides.length?this.currentSlide:0;this.showSlide(e),this.startAutoPlay(),console.log("Slider został pomyślnie odświeżony po zmianie języka")}catch(e){console.error("Błąd podczas odświeżania slidera:",e)}}}function Pe(){const t=document.querySelector(".featured-artworks.horizontal-scroll");if(!t)return;function e(){const n=t.clientWidth;t.scrollWidth>n?t.style.justifyContent="flex-start":t.style.justifyContent="center"}e(),window.addEventListener("resize",()=>{setTimeout(e,100)}),t.querySelectorAll("img").forEach(n=>{n.complete?e():n.addEventListener("load",e)})}let A=null;function $e(){const t=document.querySelector(".featured-artworks.horizontal-scroll");if(!t)return;let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{typeof autoScrollInterval<"u"&&autoScrollInterval&&(clearInterval(autoScrollInterval),autoScrollInterval=null),t.getBoundingClientRect().width},250)})}function te(){if(!u.navigation)return;const t={"nav-home":u.navigation.home,"nav-gallery":u.navigation.gallery,"nav-about":u.navigation.about,"nav-shop":u.navigation.shop};Object.entries(t).forEach(([i,s])=>{const a=document.getElementById(i);a&&(a.textContent=s)});const e={"mobile-nav-home":u.navigation.home,"mobile-nav-gallery":u.navigation.gallery,"mobile-nav-about":u.navigation.about,"mobile-nav-shop":u.navigation.shop};Object.entries(e).forEach(([i,s])=>{const a=document.getElementById(i);a&&(a.textContent=s)});const o=document.getElementById("contact-link");if(o&&u.topBar&&(o.textContent=u.topBar.contact),u.sections){const i=document.getElementById("featured-works-title");i&&(i.textContent=u.sections.featuredWorks);const s=document.getElementById("featured-works-description");s&&(s.textContent=u.sections.featuredWorksDescription);const a=document.getElementById("scroll-hint");a&&(a.textContent=u.sections.scrollHint);const l=document.getElementById("gallery-main-title");l&&(l.textContent=u.sections.galleryTitle);const p=document.getElementById("about-main-title");if(p){const E=w&&w.artistName;p.textContent=E||u.sections.aboutTitle}const r=document.getElementById("shop-main-title");r&&(r.textContent=u.sections.shopTitle);const y=document.getElementById("shop-description");y&&(y.innerHTML=u.sections.shopDescription);const h=document.getElementById("education-title");h&&(h.textContent=u.sections.education);const d=document.getElementById("achievements-title");d&&(d.textContent=u.sections.achievements);const f=document.getElementById("exhibitions-title");f&&(f.textContent=u.sections.exhibitions);const m=document.getElementById("contact-title");m&&(m.textContent=u.sections.contact);const g=document.getElementById("contact-subtitle");g&&(g.textContent=u.sections.contactSubtitle);const x=document.getElementById("follow-me-title");x&&(x.textContent=u.sections.followMe);const b=document.getElementById("social-description");b&&(b.textContent=u.sections.socialDescription);const z=document.getElementById("email-label");z&&(z.textContent=u.common.email);const k=document.getElementById("phone-label");k&&(k.textContent=u.common.phone)}const n=document.getElementById("current-language");if(n&&u.languages&&(n.textContent=S==="pl"?u.languages.firstLanguage:u.languages.secondLanguage),u.footer){const i=document.getElementById("footer-rights");i&&(i.textContent=u.footer.allRightsReserved);const s=document.getElementById("footer-icons");s&&(s.textContent=u.footer.icons);const a=document.getElementById("footer-author");a&&(a.textContent=u.footer.websiteAuthor)}}async function J(){try{const t=K(),e=window.location.pathname;let o=t;e.includes("/pages/")&&!t&&(o="../..");const i=await(await fetch(`${o}/src/data/json/ui.json`)).json(),a=await(await fetch(`${o}/src/data/json/ui_en.json`)).json(),l=document.getElementById("first-language-option");l&&i.languages&&(l.textContent=i.languages.firstLanguage);const p=document.getElementById("second-language-option");p&&a.languages&&(p.textContent=a.languages.secondLanguage)}catch(t){console.error("Błąd podczas ładowania opcji języków:",t)}}function je(){if(!v.siteName)return;document.querySelectorAll("#portfolio-title").forEach(i=>{i&&(i.textContent=v.siteName)});const e=document.getElementById("footer-site-name");if(e&&(e.textContent=v.siteName),v.contact){document.querySelectorAll("#contact-link").forEach(r=>{r&&(r.removeAttribute("href"),r.onclick=y=>{y.preventDefault(),Xe()},r.style.cursor="pointer")}),document.querySelectorAll('[data-contact="email"]').forEach(r=>{r&&v.contact.email&&(r.tagName==="A"&&(r.href=`mailto:${v.contact.email}`),r.tagName==="SPAN"&&(r.textContent=v.contact.email))});const a=document.getElementById("contact-email-link");a&&v.contact.email&&(a.href=`mailto:${v.contact.email}`),document.querySelectorAll('[data-contact="phone"]').forEach(r=>{r&&v.contact.phone&&(r.tagName==="A"&&(r.href=`tel:${v.contact.phone.replace(/\s/g,"")}`),r.tagName==="SPAN"&&(r.textContent=v.contact.phone))});const p=document.getElementById("contact-phone-link");p&&v.contact.phone&&(p.href=`tel:${v.contact.phone.replace(/\s/g,"")}`)}v.socialMedia&&(document.querySelectorAll('[data-social="facebook"]').forEach(a=>{a&&v.socialMedia.facebook&&(a.href=v.socialMedia.facebook)}),document.querySelectorAll('[data-social="instagram"]').forEach(a=>{a&&v.socialMedia.instagram&&(a.href=v.socialMedia.instagram)}));const o=document.getElementById("contact-email-link"),n=document.getElementById("contact-phone-link");o&&o.addEventListener("click",i=>{var a;i.preventDefault();const s=((a=v.contact)==null?void 0:a.email)||"";s&&(V(s,"email"),i.target.blur())}),n&&n.addEventListener("click",i=>{var a;i.preventDefault();const s=((a=v.contact)==null?void 0:a.phone)||"";s&&(V(s,"phone"),i.target.blur())}),De(),qe()}function De(){const t=v.showShopInNav!==!1;document.querySelectorAll("#nav-shop, #mobile-nav-shop").forEach(o=>{if(o){const n=o.closest("li");n&&(t?n.style.display="":n.style.display="none")}})}function qe(){if(!v.siteName)return;const t=window.location.pathname;let e=v.siteName;t.includes("gallery.html")?e=`Galeria - ${v.siteName}`:t.includes("about.html")?e=`O Artyście - ${v.siteName}`:t.includes("shop.html")&&(e=`Sklep - ${v.siteName}`),document.title=e}async function He(t){if(t===S)return;S=t,localStorage.setItem("selectedLanguage",S),await le(),te(),J();const e=window.location.pathname;e==="/"||e.includes("index.html")||!e.includes("/pages/")&&!e.includes("gallery.html")&&!e.includes("about.html")&&!e.includes("shop.html")?(ce(),A&&typeof A.refreshSlider=="function"&&A.refreshSlider()):e.includes("about.html")?typeof _=="function"&&_():e.includes("gallery.html")?($(),ue(),console.log("Galeria - język zmieniony na:",t)):e.includes("shop.html")&&(setTimeout(()=>de(),50),console.log("Sklep - język zmieniony na:",t)),c.isOpen&&updateFocusModeContent(),await J()}function Ne(){const t=document.getElementById("language-selector"),e=document.getElementById("language-dropdown"),o=document.getElementById("language-arrow"),n=document.querySelectorAll(".language-option");if(!t||!e)return;const i=localStorage.getItem("selectedLanguage");i&&(i==="pl"||i==="en")&&(S=i),t.addEventListener("click",s=>{s.preventDefault(),e.classList.contains("hidden")?(e.classList.remove("hidden"),o.style.transform="rotate(180deg)"):(e.classList.add("hidden"),o.style.transform="rotate(0deg)")}),n.forEach(s=>{s.addEventListener("click",async a=>{a.preventDefault();const l=a.currentTarget.getAttribute("data-lang");l&&l!==S&&await He(l),e.classList.add("hidden"),o.style.transform="rotate(0deg)"})}),document.addEventListener("click",s=>{t.contains(s.target)||(e.classList.add("hidden"),o.style.transform="rotate(0deg)")})}function Xe(){var l,p;const t=document.getElementById("contact-dialog");t&&t.remove();const e=((l=v.contact)==null?void 0:l.email)||"malarzka.krakowska@gmail.com",o=((p=v.contact)==null?void 0:p.phone)||"+48 123 456 789",n=document.createElement("div");n.id="contact-dialog",n.className="fixed inset-0 bg-transparent flex items-center justify-center z-[9999] opacity-0 transition-opacity duration-300",n.innerHTML=`
    <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 transform scale-90 transition-transform duration-300 relative" onclick="event.stopPropagation()">
      <!-- Przycisk X do zamknięcia -->
      <button 
        id="close-dialog-btn"
        class="absolute top-4 right-4 p-1 text-gray-400 hover:text-gray-600 transition-colors"
        title="${S==="pl"?"Zamknij":"Close"}"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
      
      <h3 class="text-xl font-bold mb-6 text-gray-800 pr-8">${S==="pl"?"Kontakt":"Contact"}</h3>
      
      <div class="space-y-6">
        <div class="flex items-center space-x-3">
          <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
          </svg>
          <div class="flex-1 flex flex-col justify-center">
            <p class="text-sm text-gray-600">Email</p>
            <p class="font-medium text-gray-800" id="dialog-email">${e}</p>
          </div>
          <button 
            id="copy-email-btn"
            class="p-2 text-gray-500 hover:text-blue-600 transition-colors flex-shrink-0"
            title="${S==="pl"?"Skopiuj email":"Copy email"}"
            data-text="${e}"
            data-type="email"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
            </svg>
          </button>
        </div>
        
        <div class="flex items-center space-x-3">
          <svg class="w-5 h-5 text-green-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
          </svg>
          <div class="flex-1 flex flex-col justify-center">
            <p class="text-sm text-gray-600">${S==="pl"?"Telefon":"Phone"}</p>
            <p class="font-medium text-gray-800" id="dialog-phone">${o}</p>
          </div>
          <button 
            id="copy-phone-btn"
            class="p-2 text-gray-500 hover:text-green-600 transition-colors flex-shrink-0"
            title="${S==="pl"?"Skopiuj telefon":"Copy phone"}"
            data-text="${o}"
            data-type="phone"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  `,document.body.appendChild(n);const i=document.getElementById("close-dialog-btn"),s=document.getElementById("copy-email-btn"),a=document.getElementById("copy-phone-btn");i.addEventListener("click",ae),s.addEventListener("click",()=>{const r=s.getAttribute("data-text"),y=s.getAttribute("data-type");V(r,y)}),a.addEventListener("click",()=>{const r=a.getAttribute("data-text"),y=a.getAttribute("data-type");V(r,y)}),setTimeout(()=>{n.classList.remove("opacity-0");const r=n.querySelector("div div");r.classList.remove("scale-90"),r.classList.add("scale-100")},10),n.addEventListener("click",ae)}function ae(){const t=document.getElementById("contact-dialog");if(t){t.classList.add("opacity-0");const e=t.querySelector("div div");e&&(e.classList.remove("scale-100"),e.classList.add("scale-90")),setTimeout(()=>t.remove(),300)}}function V(t,e){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{fe(e)}).catch(()=>{re(t,e)}):re(t,e)}function re(t,e){const o=document.createElement("textarea");o.value=t,o.style.position="fixed",o.style.left="-999999px",o.style.top="-999999px",document.body.appendChild(o),o.focus(),o.select();try{document.execCommand("copy"),fe(e)}catch(n){console.error("Błąd kopiowania:",n)}document.body.removeChild(o)}function fe(t){const e=document.getElementById("copy-notification");e&&e.remove();const o=document.createElement("div");o.id="copy-notification",o.className="fixed top-20 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-[10000] transform translate-x-full transition-transform duration-300";const n=t==="email"?S==="pl"?"Email skopiowany!":"Email copied!":S==="pl"?"Telefon skopiowany!":"Phone copied!";o.textContent=n,document.body.appendChild(o),setTimeout(()=>{o.classList.remove("translate-x-full")},10),setTimeout(()=>{o.classList.add("translate-x-full"),setTimeout(()=>o.remove(),300)},3e3)}
