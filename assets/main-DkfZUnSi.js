(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();console.log("Portfolio artystyczne załadowane!");let W=[],B=[],O=[],E={},z="pl",g={},x={},M=[],C={intervalId:null,currentIndex:0,autoIntervalMs:1e4},D=null,F=!1;function se(){return window.location.hostname.includes("github.io")?"/kogutowicz-art":""}function R(e){const t=se(),n=window.location.pathname;console.log("correctImagePath:",{imagePath:e,basePath:t,currentPath:n});const o=e.startsWith("/")?e.substring(1):e;let s;return n.includes("/pages/")||n.includes("/gallery.html")||n.includes("/about.html")||n.includes("/shop.html")?t?s=`${t}/${o}`:s=`../../${o}`:t?s=`${t}/${o}`:s=`./${o}`,console.log("correctImagePath wynik:",s),s}async function Se(){try{const e=se(),t=window.location.pathname;let n=e;if(t.includes("/pages/")&&!e&&(n="../.."),g=await(await fetch(`${n}/src/data/json/ui${z==="en"?"_en":""}.json`)).json(),W=await(await fetch(`${n}/src/data/json/gallery.json`)).json(),z==="en"){const l=await(await fetch(`${n}/src/data/json/gallery_en.json`)).json();W=W.map(f=>{const m=l.find(p=>p.id===f.id);return m?{...f,...m}:f})}if(B=await(await fetch(`${n}/src/data/json/featured.json`)).json(),z==="en"){const l=await(await fetch(`${n}/src/data/json/featured_en.json`)).json();B=B.map(f=>{const m=l.find(p=>p.id===f.id);return m?{...f,...m}:f})}if(O=await(await fetch(`${n}/src/data/json/shop.json`)).json(),z==="en"){const l=await(await fetch(`${n}/src/data/json/shop_en.json`)).json();O=O.map(f=>{const m=l.find(p=>p.id===f.id);return m?{...f,...m}:f})}if(E=await(await fetch(`${n}/src/data/json/about${z==="en"?"_en":""}.json`)).json(),z==="en"){const l=await(await fetch(`${n}/src/data/json/about.json`)).json();l.artistPhoto&&(E.artistPhoto=l.artistPhoto)}x=await(await fetch(`${n}/src/data/json/site-config.json`)).json(),fe(),Ge(),await Ee(n),$e()}catch(e){console.error("Błąd podczas ładowania danych:",e)}}async function Ee(e=null){try{const t=e??se(),n=window.location.pathname;let o=t;n.includes("/pages/")&&!t&&(o="../.."),M=await(await fetch(`${o}/src/data/json/news_${z==="en"?"en":"pl"}.json`)).json(),Array.isArray(M)||(M=[])}catch(t){console.warn("Nie udało się załadować aktualności:",t),M=[]}}function ke(){const e=document.querySelector(".featured-artworks");e&&(e.innerHTML="",B.forEach((t,n)=>{const o=document.createElement("div");o.className="featured-artwork-item",o.setAttribute("data-artwork-index",n);const s=R(t.image),i=t.positionX!==void 0?t.positionX:.5,a=t.positionY!==void 0?t.positionY:.5,c=`${i*100}% ${a*100}%`;o.innerHTML=`
      <div class="featured-artwork-image">
        <img src="${s}" alt="${t.title||"Obraz"}" loading="lazy" style="object-position: ${c};">
      </div>
      <div class="featured-artwork-info">
        <h3>${t.title||"Bez tytułu"}</h3>
        ${t.description?`<p>${t.description}</p>`:""}
      </div>
    `,o.addEventListener("click",()=>{ue(n,B,"featured")}),o.addEventListener("mouseenter",()=>{o.style.transform="translateY(-4px)"}),o.addEventListener("mouseleave",()=>{o.style.transform="translateY(0)"}),e.appendChild(o)}),He(),Ve())}function Z(e=W){const t=document.querySelector(".gallery-artworks");t&&(t.innerHTML="",e.forEach((n,o)=>{var r,y;const s=document.createElement("div");s.className="bg-white rounded shadow-md overflow-hidden",s.setAttribute("data-artwork-index",o);const i=R(n.image),a=n.positionX!==void 0?n.positionX:.5,c=n.positionY!==void 0?n.positionY:.5,h=`${a*100}% ${c*100}%`;s.innerHTML=`
      <div class="h-64 bg-gray-200 flex items-center justify-center overflow-hidden">
        <img src="${i}" alt="${n.title||"Obraz"}" class="w-full h-full object-cover" style="object-position: ${h};">
      </div>
      <div class="p-4">
        <h3 class="text-xl font-semibold mb-2">${n.title||"Bez tytułu"}</h3>
        ${n.technique||n.dimensions||n.year?`<p class="text-gray-600">${[n.technique,n.dimensions,n.year].filter(Boolean).join(", ")}</p>`:""}
        ${n.description?`<p class="text-sm mt-2">${n.description}</p>`:""}
        <p class="mt-2 ${n.available?"text-green-600":"text-gray-400"}">
          ${n.available?((r=g.common)==null?void 0:r.available)||"Dostępny":((y=g.common)==null?void 0:y.unavailable)||"Niedostępny"}
        </p>
      </div>
    `,s.addEventListener("click",()=>{ue(o,e,"gallery")}),t.appendChild(s)}))}function ze(){var n;const e=document.querySelector(".shop-products");if(!e)return;if(e.innerHTML="",!O||O.length===0){e.className="flex items-center justify-center min-h-64",e.innerHTML=`
      <div class="text-center">
        <div class="text-gray-400 mb-4">
          <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
          </svg>
        </div>
        <p class="text-lg text-gray-600">${((n=g.sections)==null?void 0:n.shopEmpty)||"Aktualnie nie ma niczego wystawionego na sprzedaż"}</p>
      </div>
    `;return}e.className="shop-products grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",O.forEach(o=>{var f,m,p,v;const s=document.createElement("div");s.className="bg-white rounded shadow-md overflow-hidden";const i=R(o.image),a=o.positionX!==void 0?o.positionX:.5,c=o.positionY!==void 0?o.positionY:.5,h=`${a*100}% ${c*100}%`,r=o.available!==!1,y=r?"shop-purchase-button bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 inline-block font-semibold transition-all duration-300 transform":"bg-gray-400 text-gray-600 px-4 py-2 rounded cursor-not-allowed inline-block",d=r?((f=g.common)==null?void 0:f.goToPurchase)||"Przejdź do zakupu":((m=g.common)==null?void 0:m.notAvailable)||"Niedostępne",l=r?`href="${o.purchaseUrl}" target="_blank" rel="noopener noreferrer"`:'onclick="return false;"';s.innerHTML=`
      <div class="h-64 bg-gray-200 flex items-center justify-center overflow-hidden cursor-pointer shop-product-image" data-product-id="${o.id}">
        <img src="${i}" alt="${o.title||"Produkt"}" class="w-full h-full object-cover" style="object-position: ${h};">
      </div>
      <div class="p-4">
        <h3 class="text-xl font-semibold mb-2">${o.title||"Bez tytułu"}</h3>
        ${o.description?`<p class="text-gray-600">${o.description}</p>`:""}
        ${o.dimensions?`<p class="text-sm text-gray-500 mt-1"><span class="font-medium">${((p=g.common)==null?void 0:p.dimensions)||"Wymiary"}:</span> ${o.dimensions}</p>`:""}
        ${o.price?`<p class="text-purple-600 font-bold mt-2">${o.price} zł</p>`:""}        <div class="mt-4 flex items-center justify-between">
          <a ${l} class="${y}">
            ${d}
          </a>
          ${r?"":`<span class="text-gray-400 font-semibold text-sm">${((v=g.common)==null?void 0:v.sold)||"Sprzedane"}</span>`}
        </div>
      </div>
    `,e.appendChild(s)}),document.querySelectorAll(".shop-product-image").forEach(o=>{o.addEventListener("click",s=>{const i=parseInt(o.getAttribute("data-product-id")),a=O.findIndex(c=>c.id===i);a!==-1&&ue(0,[O[a]],"shop")})})}function Ae(e,t){if(!e)return null;const n=e.replace(/-/g," ");if(t.includes(n))return n;n.replace(/a/g,"ą").replace(/c/g,"ć").replace(/e/g,"ę").replace(/l/g,"ł").replace(/n/g,"ń").replace(/o/g,"ó").replace(/s/g,"ś").replace(/z/g,"ź");for(const o of t)if(o.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z")===n)return o;return null}function ge(e){if(!e)return W;const t=e.toLowerCase();return W.filter(n=>n.categories&&Array.isArray(n.categories)&&n.categories.some(o=>o&&o.toLowerCase()===t))}function ye(e){return g.categories&&g.categories[e]?g.categories[e]:e}function Ie(){const e=document.querySelector(".category-filters");if(!e)return;e.className="category-filters loading";const t=new Map;W.forEach(r=>{r.categories&&Array.isArray(r.categories)&&r.categories.forEach(y=>{y&&y.trim()&&t.set(y,(t.get(y)||0)+1)})});const n=Array.from(t.entries()).sort((r,y)=>y[1]-r[1]).map(r=>r[0]);e.innerHTML="";const o=document.createElement("button");o.className="category-chip category-chip-active",o.textContent=`${ye("wszystkie")} (${W.length})`,o.setAttribute("data-category","wszystkie"),o.addEventListener("click",()=>{Z(),s(o),window.history.replaceState(null,null,window.location.pathname)}),e.appendChild(o),n.forEach(r=>{const y=t.get(r),d=document.createElement("button");d.className="category-chip category-chip-inactive",d.textContent=`${ye(r)} (${y})`,d.setAttribute("data-category",r),d.addEventListener("click",()=>{const l=ge(r);Z(l),s(d);const f=r.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z").replace(/\s+/g,"-");window.history.replaceState(null,null,`${window.location.pathname}#${f}`)}),e.appendChild(d)});function s(r){e.querySelectorAll(".category-chip").forEach(y=>{y.className="category-chip category-chip-inactive"}),r.className="category-chip category-chip-active"}const i=window.location.hash.substring(1),a=Ae(i,n);let c=null,h=o;if(a&&a!=="wszystkie"){const r=Array.from(e.querySelectorAll(".category-chip")).find(y=>y.getAttribute("data-category")===a);r&&(c=a,h=r)}if(c){const r=ge(c);Z(r)}else Z();s(h),setTimeout(()=>{e.classList.remove("loading")},300)}function re(){if(!document.querySelector(".about-artist-content"))return;const t=document.querySelector(".artist-photo"),n=document.querySelector(".artist-biography"),o=document.querySelector(".artist-education"),s=document.querySelector(".artist-achievements"),i=document.querySelector(".artist-exhibitions");if(t&&E.artistPhoto){t.innerHTML=`
      <img src="${R(E.artistPhoto)}" alt="${E.artistName||"Artysta"}" 
           class="w-full h-full object-cover rounded">
    `,t.classList.add("has-image");const a=t.querySelector("img");a&&(a.onload=()=>{X&&X(),X=we()},a.complete&&(X&&X(),X=we()))}n&&E.biography&&Array.isArray(E.biography)&&E.biography.length>0&&(n.innerHTML="",E.biography.forEach(a=>{if(a&&a.trim()){const c=document.createElement("p");c.className="text-gray-700 mb-4";const h=a.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");c.innerHTML=h,n.appendChild(c)}})),o&&E.education&&Array.isArray(E.education)&&E.education.length>0&&(o.innerHTML="",E.education.forEach(a=>{if(a&&a.trim()){const c=document.createElement("li");c.className="list-disc list-inside text-gray-700";const h=a.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");c.innerHTML=h,o.appendChild(c)}})),s&&E.achievements&&Array.isArray(E.achievements)&&E.achievements.length>0&&(s.innerHTML="",E.achievements.forEach(a=>{if(a&&a.trim()){const c=document.createElement("li");c.className="list-disc list-inside text-gray-700";const h=a.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");c.innerHTML=h,s.appendChild(c)}})),i&&E.exhibitions&&Array.isArray(E.exhibitions)&&E.exhibitions.length>0&&(i.innerHTML="",E.exhibitions.forEach(a=>{if(a&&a.trim()){const c=document.createElement("li");c.className="list-disc list-inside text-gray-700";const h=a.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");c.innerHTML=h,i.appendChild(c)}}))}function $e(){const e=window.location.pathname;e.includes("gallery.html")?(Z(),Ie()):e.includes("shop.html")?ze():e.includes("about.html")?re():(ke(),de(),Ne())}function de(){const e=document.getElementById("news-section");if(!e)return;if(typeof D=="function"){try{D()}catch{}D=null,F=!1}if(!M||M.length===0){e.classList.add("hidden"),J();return}function t(){const d=document.getElementById("news-section"),l=d==null?void 0:d.querySelector(".news-content"),f=d==null?void 0:d.querySelector(".news-track");if(!d||!l||!f)return;const m=f.querySelectorAll(".news-slide").length;if(m<=1)return;typeof D=="function"&&(D(),D=null);let p=!1,v=0,b=0,S=0,L=!1;const I=50,Y=800;if("PointerEvent"in window){if(F)return;const $=w=>{if(w.pointerType==="touch"){A=!1,p=!0,L=!1,v=w.clientX,b=w.clientY,S=Date.now();try{l.setPointerCapture(w.pointerId)}catch{}J()}},q=w=>{if(!p||w.pointerType!=="touch")return;const V=w.clientX-v,P=w.clientY-b,T=Math.abs(V),j=Math.abs(P);!L&&(T>15||j>15)&&(T>j?L=!0:p=!1),L&&w.cancelable&&w.preventDefault()};let A=!1;const H=w=>{if(!p||w.pointerType!=="touch"||A)return;const P=Date.now()-S,T=w.clientX-v,j=Math.abs(T);L&&j>=I&&P<=Y&&(T<0&&C.currentIndex<m-1?N(C.currentIndex+1):T>0&&C.currentIndex>0&&N(C.currentIndex-1)),A=!0,p=!1,L=!1,v=b=0,S=0,ae()};l.addEventListener("pointerdown",$,{passive:!0}),l.addEventListener("pointermove",q,{passive:!1}),l.addEventListener("pointerup",H,{passive:!1}),D=()=>{l.removeEventListener("pointerdown",$),l.removeEventListener("pointermove",q),l.removeEventListener("pointerup",H),F=!1},F=!0}else{if(F)return;const $=w=>{!w.touches||w.touches.length!==1||(A=!1,p=!0,L=!1,v=w.touches[0].clientX,b=w.touches[0].clientY,S=Date.now(),J())},q=w=>{if(!p)return;const V=w.touches[0].clientX-v,P=w.touches[0].clientY-b,T=Math.abs(V),j=Math.abs(P);!L&&(T>15||j>15)&&(T>j?L=!0:p=!1),L&&w.cancelable&&w.preventDefault()};let A=!1;const H=w=>{var me,he;if(!p||A)return;const P=Date.now()-S,T=(((he=(me=w.changedTouches)==null?void 0:me[0])==null?void 0:he.clientX)??v)-v,j=Math.abs(T);L&&j>=I&&P<=Y&&(T<0&&C.currentIndex<m-1?N(C.currentIndex+1):T>0&&C.currentIndex>0&&N(C.currentIndex-1)),A=!0,p=!1,L=!1,v=b=0,S=0,ae()};l.addEventListener("touchstart",$,{passive:!0}),l.addEventListener("touchmove",q,{passive:!1}),l.addEventListener("touchend",H,{passive:!1}),D=()=>{l.removeEventListener("touchstart",$),l.removeEventListener("touchmove",q),l.removeEventListener("touchend",H),F=!1},F=!0}}const n=document.getElementById("news-title");n&&(n.textContent=z==="en"?"News":"Aktualności"),e.classList.remove("hidden");const o=e.querySelector(".news-content"),s=e.querySelector(".news-controls"),i=e.querySelector(".news-dots"),a=e.querySelector(".news-nav.prev"),c=e.querySelector(".news-nav.next");if(!o||!s||!i||!a||!c)return;if(o.innerHTML="",i.innerHTML="",M.length===1){s.classList.add("hidden"),s.style.display="none";const d=M[0],l=R(d.image),f=d.positionX!==void 0?d.positionX:.5,m=d.positionY!==void 0?d.positionY:.5,p=`${f*100}% ${m*100}%`,v=document.createElement("article");v.className="news-item card",v.innerHTML=`
      <div class="news-image"><img src="${l}" alt="${d.title}" style="object-position: ${p};"></div>
      <div class="news-text">
        <h3 class="news-item-title">${d.title}</h3>
        <p class="news-item-content">${d.content}</p>
      </div>
    `,o.appendChild(v),ve(),typeof D=="function"&&(D(),D=null),J();return}s.classList.remove("hidden"),s.style.display="";const h=document.createElement("div");h.className="news-track",o.appendChild(h),M.forEach((d,l)=>{const f=document.createElement("article");f.className="news-slide";const m=R(d.image),p=d.positionX!==void 0?d.positionX:.5,v=d.positionY!==void 0?d.positionY:.5,b=`${p*100}% ${v*100}%`;f.innerHTML=`
      <div class="news-image"><img src="${m}" alt="${d.title}" style="object-position: ${b};"></div>
      <div class="news-text">
        <h3 class="news-item-title">${d.title}</h3>
        <p class="news-item-content">${d.content}</p>
      </div>
    `,h.appendChild(f);const S=document.createElement("button");S.className="news-dot",S.setAttribute("aria-label",`Slide ${l+1}`),S.addEventListener("click",()=>N(l)),i.appendChild(S)});const r=()=>N((C.currentIndex-1+M.length)%M.length),y=()=>N((C.currentIndex+1)%M.length);a.onclick=r,c.onclick=y,t(),N(0),ae(),ve()}function N(e){const t=document.getElementById("news-section"),n=t==null?void 0:t.querySelector(".news-track"),o=t==null?void 0:t.querySelectorAll(".news-dot");if(!n||!o)return;C.currentIndex=e;const s=8;let i=0;for(let r=0;r<e;r++){const y=n.children[r];y&&(i+=y.getBoundingClientRect().width+s)}const a=e===n.children.length-1,c=e>0&&!a?s:0;n.style.transform=`translateX(${-(i+c)}px)`,o.forEach((r,y)=>r.classList.toggle("active",y===e)),n.querySelectorAll(".news-slide").forEach((r,y)=>r.classList.toggle("active",y===e))}function ae(){J(),!(!M||M.length<=1)&&(C.intervalId=setInterval(()=>{N((C.currentIndex+1)%M.length)},C.autoIntervalMs))}function J(){C.intervalId&&(clearInterval(C.intervalId),C.intervalId=null)}function ve(){const e=document.getElementById("news-section");if(!e)return;e.classList.remove("fade-in"),new IntersectionObserver((n,o)=>{n.forEach(s=>{s.isIntersecting&&(e.classList.add("fade-in"),o.disconnect())})},{threshold:.2}).observe(e)}function Be(){const e=document.getElementById("mobile-menu-button"),t=document.getElementById("mobile-menu");if(!e||!t)return;let n=!1;function o(){n=!n,n?(t.classList.remove("hidden"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Zamknij menu"),e.innerHTML=`
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      `,t.focus()):(t.classList.add("hidden"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Otwórz menu"),e.innerHTML=`
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      `)}e.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),o()}),e.addEventListener("keydown",i=>{(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),i.stopPropagation(),o())}),window.addEventListener("resize",()=>{window.innerWidth>=768&&n&&o()}),t.querySelectorAll("a").forEach(i=>{i.addEventListener("click",()=>{n&&o()})}),document.addEventListener("keydown",i=>{i.key==="Escape"&&n&&(o(),e.focus())}),document.addEventListener("click",i=>{n&&!t.contains(i.target)&&!e.contains(i.target)&&o()}),t.addEventListener("keydown",i=>{const a=t.querySelectorAll("a"),c=Array.from(a).indexOf(document.activeElement);if(i.key==="ArrowDown"){i.preventDefault();const h=c<a.length-1?c+1:0;a[h].focus()}else if(i.key==="ArrowUp"){i.preventDefault();const h=c>0?c-1:a.length-1;a[h].focus()}else i.key==="Home"?(i.preventDefault(),a[0].focus()):i.key==="End"&&(i.preventDefault(),a[a.length-1].focus())})}let u={isOpen:!1,currentIndex:0,artworks:[],overlay:null,source:"gallery",isMaximized:!1};function ue(e,t,n="gallery"){u.currentIndex=e,u.artworks=t,u.isOpen=!0,u.source=n,document.body.classList.add("focus-mode-open"),u.overlay||Pe(),pe(),u.overlay.classList.add("active"),De()}function le(){u.isOpen&&(u.isOpen=!1,u.isMaximized=!1,document.body.classList.remove("focus-mode-open"),u.overlay&&(u.overlay.classList.remove("active"),setTimeout(()=>{u.overlay&&!u.isOpen&&(u.overlay.remove(),u.overlay=null)},300)),qe())}function Pe(){const e=document.createElement("div");e.className="focus-mode-overlay",e.innerHTML=`
    <button class="focus-close-button" aria-label="Zamknij tryb skupienia">
      <svg class="focus-close-icon" viewBox="0 0 24 24">
        <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <button class="focus-maximize-button" aria-label="Maksymalizuj obraz">
      <svg class="focus-maximize-icon" viewBox="0 0 24 24">
        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <button class="focus-nav-button prev" aria-label="Poprzedni obraz">
      <svg class="focus-nav-icon" viewBox="0 0 24 24">
        <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <button class="focus-nav-button next" aria-label="Następny obraz">
      <svg class="focus-nav-icon" viewBox="0 0 24 24">
        <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <div class="focus-mode-container">
      <img class="focus-mode-image" src="" alt="" />
      
      <div class="focus-mode-info">
        <h3 class="text-2xl font-bold mb-2"></h3>
        <div class="focus-mode-details"></div>
        <p class="focus-mode-description mt-3 text-gray-700"></p>
        <div class="focus-mode-availability-or-purchase mt-3"></div>
        <div class="focus-mode-gallery-button mt-4" style="display: none;">
          <a href="#" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 inline-block">
            <span class="gallery-button-text">Zobacz w Galerii</span>
          </a>
        </div>
      </div>
    </div>
  `,document.body.appendChild(e),u.overlay=e;const t=e.querySelector(".focus-close-button"),n=e.querySelector(".focus-maximize-button"),o=e.querySelector(".focus-nav-button.prev"),s=e.querySelector(".focus-nav-button.next");t.addEventListener("click",le),n.addEventListener("click",Te),o.addEventListener("click",()=>_("prev")),s.addEventListener("click",()=>_("next")),e.addEventListener("click",i=>{i.target===e&&le()})}function je(e){return e.galleryCategory?`./src/pages/gallery.html#${e.galleryCategory.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z").replace(/\s+/g,"-")}`:"./src/pages/gallery.html"}function pe(){var S,L,I,Y,U;if(!u.overlay)return;const e=u.artworks[u.currentIndex];if(!e)return;const t=u.overlay.querySelector(".focus-mode-container"),n=u.overlay.querySelector(".focus-mode-info"),o=u.overlay.querySelector(".focus-maximize-button"),s=o.querySelector(".focus-maximize-icon");u.isMaximized?(t.classList.add("maximized"),n.style.display="none",s.innerHTML=`
      <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `,o.setAttribute("aria-label","Zmniejsz obraz")):(t.classList.remove("maximized"),n.style.display="block",s.innerHTML=`
      <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `,o.setAttribute("aria-label","Maksymalizuj obraz"));const i=u.overlay.querySelector(".focus-mode-image"),a=u.overlay.querySelector(".focus-mode-info h3"),c=u.overlay.querySelector(".focus-mode-details"),h=u.overlay.querySelector(".focus-mode-description"),r=u.overlay.querySelector(".focus-mode-availability-or-purchase");i.classList.add("loading");const y=R(e.image),d=e.positionX!==void 0?e.positionX:.5,l=e.positionY!==void 0?e.positionY:.5,f=`${d*100}% ${l*100}%`;i.src=y,i.alt=e.title||"Obraz",i.style.objectPosition=f,i.onload=()=>{i.classList.remove("loading")},a.textContent=e.title||"Bez tytułu";const m=[];if(u.source==="shop"?(e.description&&m.push(e.description),e.dimensions&&m.push(e.dimensions)):(e.technique&&m.push(e.technique),e.dimensions&&m.push(e.dimensions),e.year&&m.push(e.year)),c.innerHTML=m.length>0?`<p class="text-gray-500">${m.join(" • ")}</p>`:"",u.source==="shop"?h.style.display="none":(h.textContent=e.description||"",h.style.display=e.description?"block":"none"),u.source==="shop"){const $=e.available!==!1,q=e.price?`<span class="text-purple-600 font-bold text-lg">${e.price} zł</span>`:"",A=$?"bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 font-semibold transition-all duration-300 transform hover:scale-105 inline-block":"bg-gray-400 text-gray-600 px-4 py-2 rounded cursor-not-allowed inline-block",H=$?((S=g.common)==null?void 0:S.goToPurchase)||"Przejdź do zakupu":((L=g.common)==null?void 0:L.notAvailable)||"Niedostępne",w=$?`href="${e.purchaseUrl}" target="_blank" rel="noopener noreferrer"`:'onclick="return false;"';r.innerHTML=`
      <div class="flex items-center justify-center gap-4">
        ${q}
        <a ${w} class="${A}">
          ${H}
        </a>
      </div>
    `}else u.source==="gallery"?r.innerHTML=`
      <span class="${e.available?"text-green-600":"text-gray-400"} font-semibold">
        ${e.available?((I=g.common)==null?void 0:I.available)||"Dostępny":((Y=g.common)==null?void 0:Y.unavailable)||"Niedostępny"}
      </span>
    `:r.innerHTML="";const p=u.overlay.querySelector(".focus-mode-gallery-button"),v=p==null?void 0:p.querySelector("a"),b=p==null?void 0:p.querySelector(".gallery-button-text");if(u.source==="featured"&&e.galleryCategory){p.style.display="block";const $=je(e);v.href=$,b.textContent=((U=g.common)==null?void 0:U.viewInGallery)||"Zobacz w Galerii"}else p.style.display="none";Ce()}function _(e){const t=u.artworks.length;e==="next"?u.currentIndex=(u.currentIndex+1)%t:e==="prev"&&(u.currentIndex=(u.currentIndex-1+t)%t),pe()}function Ce(){if(!u.overlay)return;const e=u.overlay.querySelector(".focus-nav-button.prev"),t=u.overlay.querySelector(".focus-nav-button.next");if(u.source==="shop"){e.style.display="none",t.style.display="none";return}const n=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0||window.innerWidth<768,s=u.artworks.length>1&&!n();e.style.display=s?"flex":"none",t.style.display=s?"flex":"none"}function Te(){if(!u.overlay)return;const e=u.overlay.querySelector(".focus-mode-container");u.overlay.querySelector(".focus-mode-image");const t=u.overlay.querySelector(".focus-mode-info"),n=u.overlay.querySelector(".focus-maximize-button"),o=n.querySelector(".focus-maximize-icon");e.classList.contains("maximized")?(e.classList.remove("maximized"),t.style.display="block",u.isMaximized=!1,o.innerHTML=`
      <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `,n.setAttribute("aria-label","Maksymalizuj obraz")):(e.classList.add("maximized"),t.style.display="none",u.isMaximized=!0,o.innerHTML=`
      <path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    `,n.setAttribute("aria-label","Zmniejsz obraz"))}let K,Q,ee,te,ne,k={startX:0,startY:0,startTime:0,isHorizontalSwipe:!1,minSwipeDistance:50,maxSwipeTime:1e3};function De(){K=e=>{if(u.isOpen)switch(e.key){case"Escape":e.preventDefault(),le();break;case"ArrowLeft":e.preventDefault(),_("prev");break;case"ArrowRight":e.preventDefault(),_("next");break;case"f":case"F":e.preventDefault(),Te();break}},Q=()=>{u.isOpen&&(pe(),Ce())},ee=e=>{u.isOpen&&u.source!=="shop"&&(u.artworks.length<=1||(k.startX=e.touches[0].clientX,k.startY=e.touches[0].clientY,k.startTime=Date.now(),k.isHorizontalSwipe=!1))},te=e=>{if(!u.isOpen||k.startX===0)return;const t=e.touches[0].clientX,n=e.touches[0].clientY,o=t-k.startX,s=n-k.startY,i=Math.abs(o),a=Math.abs(s);if(!k.isHorizontalSwipe&&(i>15||a>15))if(i>a&&i>15)k.isHorizontalSwipe=!0,e.preventDefault();else{k.startX=0,k.startY=0;return}k.isHorizontalSwipe&&e.preventDefault()},ne=e=>{if(!u.isOpen||k.startX===0)return;const n=Date.now()-k.startTime;if(k.isHorizontalSwipe&&n<=k.maxSwipeTime){const s=e.changedTouches[0].clientX-k.startX;Math.abs(s)>=k.minSwipeDistance&&(s>0?_("prev"):_("next"))}k.startX=0,k.startY=0,k.startTime=0,k.isHorizontalSwipe=!1},document.addEventListener("keydown",K),window.addEventListener("resize",Q),u.overlay&&(u.overlay.addEventListener("touchstart",ee,{passive:!1}),u.overlay.addEventListener("touchmove",te,{passive:!1}),u.overlay.addEventListener("touchend",ne,{passive:!1}))}function qe(){K&&document.removeEventListener("keydown",K),Q&&window.removeEventListener("resize",Q),u.overlay&&(ee&&u.overlay.removeEventListener("touchstart",ee),te&&u.overlay.removeEventListener("touchmove",te),ne&&u.overlay.removeEventListener("touchend",ne))}function He(){const e={deadZone:{small:.08,medium:.12,large:.15},maxSpeed:{small:120,medium:130,large:140},minSpeed:300,edgeBoost:100,edgeThreshold:.8,accelerationCurve:1,animationInterval:12,wheelSensitivity:{small:95,medium:85,large:75},keyboardJump:{small:200,medium:250,large:300}},t=document.querySelector(".featured-artworks.horizontal-scroll"),n=document.querySelector(".featured-artworks-container");if(!t||!n)return;let o,s=null;const i=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||"ontouchstart"in window||navigator.maxTouchPoints>0;if(!i()){const l=()=>window.innerWidth>=2200;let f=!1;n.addEventListener("mouseenter",()=>{l()||(f=!0)}),n.addEventListener("mouseleave",()=>{f=!1,s&&(clearInterval(s),s=null)}),n.addEventListener("mousemove",m=>{if(!f||l())return;const p=n.getBoundingClientRect(),v=m.clientX-p.left,b=p.width,S=b/2,L=(v-S)/S;let I;if(b<600?I=e.deadZone.small:b<900?I=e.deadZone.medium:I=e.deadZone.large,Math.abs(L)<I){s&&(clearInterval(s),s=null);return}const Y=(Math.abs(L)-I)/(1-I),U=Math.pow(Y,e.accelerationCurve),q=Math.abs(L)>e.edgeThreshold?e.edgeBoost:1;let A;b<600?A=e.maxSpeed.small:b<900?A=e.maxSpeed.medium:A=e.maxSpeed.large;const H=A*q,w=e.minSpeed,V=w+(H-w)*U,P=L>0?1:-1;s&&clearInterval(s),s=setInterval(()=>{if(!f){clearInterval(s),s=null;return}const T=V*P;t.scrollLeft+=T;const j=t.scrollLeft<=0,ie=t.scrollLeft>=t.scrollWidth-t.clientWidth;(P<0&&j||P>0&&ie)&&(clearInterval(s),s=null)},e.animationInterval)})}t.addEventListener("wheel",l=>{if(window.innerWidth>=2200)return;const f=t.scrollLeft===0,m=t.scrollLeft>=t.scrollWidth-t.clientWidth;if(Math.abs(l.deltaX)>Math.abs(l.deltaY)||!f&&!m){l.preventDefault();const p=t.getBoundingClientRect().width;let v;p<600?v=e.wheelSensitivity.small:p<900?v=e.wheelSensitivity.medium:v=e.wheelSensitivity.large;const b=l.deltaY*v;t.scrollLeft+=b,clearTimeout(o),o=setTimeout(()=>{},150)}},{passive:!1});let a=0,c=0,h=!1,r=0;t.addEventListener("touchstart",l=>{window.innerWidth>=2200||(a=l.touches[0].clientX,c=l.touches[0].clientY,h=!1,r=t.scrollLeft,s&&(clearInterval(s),s=null))},{passive:!0}),t.addEventListener("touchmove",l=>{if(window.innerWidth>=2200||!a||!c)return;const f=l.touches[0].clientX,m=l.touches[0].clientY,p=f-a,v=m-c,b=Math.abs(p),S=Math.abs(v);if(!h&&(b>15||S>15))if(b>S&&b>15)h=!0,l.cancelable&&l.preventDefault();else{h=!1;return}if(h&&l.cancelable){l.preventDefault();const L=r-p;t.scrollLeft=Math.max(0,Math.min(L,t.scrollWidth-t.clientWidth))}},{passive:!1}),t.addEventListener("touchend",l=>{window.innerWidth>=2200||(a=0,c=0,h=!1,r=0)},{passive:!0}),t.addEventListener("touchcancel",l=>{window.innerWidth>=2200||(r!==0&&(t.scrollLeft=r),a=0,c=0,h=!1,r=0)},{passive:!0}),t.addEventListener("keydown",l=>{if(window.innerWidth>=2200)return;const f=t.getBoundingClientRect().width;let m;f<600?m=e.keyboardJump.small:f<900?m=e.keyboardJump.medium:m=e.keyboardJump.large,l.key==="ArrowLeft"?(l.preventDefault(),t.scrollLeft-=m):l.key==="ArrowRight"&&(l.preventDefault(),t.scrollLeft+=m)}),window.innerWidth<1600&&t.setAttribute("tabindex","0");function y(){const l=document.querySelector(".desktop-scroll-hint"),f=document.querySelector(".featured-artworks-container"),m=document.querySelector(".featured-artworks.horizontal-scroll");if(!l||!f||!m||i())return;let p=!1;function v(){const I=m.clientWidth;return m.scrollWidth>I}function b(){v()?(l.style.display="block",p||setTimeout(()=>{!p&&v()&&l.classList.add("visible")},2e3)):l.style.display="none"}b(),window.addEventListener("resize",()=>{setTimeout(b,100)}),m.querySelectorAll("img").forEach(I=>{I.complete?b():I.addEventListener("load",b)});const L=()=>{p=!0,l.classList.remove("visible"),setTimeout(()=>{l.style.display="none"},500)};f.addEventListener("mouseenter",L,{once:!0}),m.addEventListener("wheel",L,{once:!0})}y();const d=()=>{window.innerWidth>=1600?(s&&(clearInterval(s),s=null),t.removeAttribute("tabindex")):t.setAttribute("tabindex","0")};window.addEventListener("resize",d),d(),Fe()}function Ne(){const e=document.querySelector(".featured-artworks-container");if(!e)return;let t=!1;new IntersectionObserver(o=>{o.forEach(s=>{t=s.isIntersecting})},{threshold:.3,rootMargin:"0px"}).observe(e),window.addEventListener("wheel",o=>{if(!t)return;const s=document.querySelector(".featured-artworks.horizontal-scroll");if(!s)return;const i=s.scrollLeft===0,a=s.scrollLeft>=s.scrollWidth-s.clientWidth;o.deltaY>0&&i||o.deltaY<0&&a||Math.abs(o.deltaX)>Math.abs(o.deltaY)*.5&&(o.preventDefault(),s.scrollLeft+=o.deltaY)},{passive:!1})}function Xe(){const e=document.querySelector(".featured-artworks");if(!e)return;new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&o.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -100px 0px"}).observe(e)}function Ye(){const e=document.querySelector(".contact-section");if(!e)return;new IntersectionObserver(n=>{n.forEach(o=>{o.isIntersecting&&o.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -100px 0px"}).observe(e)}function be(){const e=document.getElementById("top-bar");if(!e)return;const t=window.location.pathname;if(!(t==="/"||t.endsWith("/index.html")||t===""||t.includes("kogutowicz-art")&&!t.includes("/pages/")))return;const o=document.querySelector(".contact-section");if(!o)return;new IntersectionObserver(i=>{i.forEach(a=>{a.isIntersecting?(e.style.transform="translateY(-100%)",e.style.opacity="0"):(e.style.transform="translateY(0)",e.style.opacity="1")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"}).observe(o)}function Oe(){document.querySelectorAll(".social-icon-link").forEach(t=>{const n=t.querySelector("lottie-player");n&&(n.addEventListener("ready",()=>{n.stop()}),t.addEventListener("mouseenter",()=>{n.play()}),t.addEventListener("mouseleave",()=>{n.stop(),n.seek(0)}))})}document.addEventListener("DOMContentLoaded",async()=>{console.log("DOMContentLoaded - inicjalizacja rozpoczęta"),Je(),await Se(),fe(),await ce(),Be();const e=window.location.pathname,t=e==="/"||e.endsWith("/index.html")||e===""||e.includes("kogutowicz-art")&&!e.includes("/pages/");console.log("Ścieżka:",e,"Czy strona główna:",t),t?(console.log("Inicjalizuję hero slider..."),G=new Re,Xe(),Ye(),be(),de()):(console.log("Nie jestem na stronie głównej, pomijam slider"),be()),Oe(),We()});function We(){document.querySelectorAll(".top-social-icon, .footer-github-icon").forEach(n=>{const o=n.querySelector(".social-icon-static"),s=n.querySelector(".social-icon-animated");o&&s&&(s.stop(),n.addEventListener("mouseenter",()=>{o.style.opacity="0",s.style.opacity="1",s.play()}),n.addEventListener("mouseleave",()=>{o.style.opacity="1",s.style.opacity="0",s.stop(),s.seek(0)}))}),document.querySelectorAll(".footer-author-link").forEach(n=>{const o=n.querySelector(".footer-github-icon");if(o){const s=o.querySelector(".social-icon-static"),i=o.querySelector(".social-icon-animated");s&&i&&(n.addEventListener("mouseenter",()=>{s.style.opacity="0",i.style.opacity="1",i.play()}),n.addEventListener("mouseleave",()=>{s.style.opacity="1",i.style.opacity="0",i.stop(),i.seek(0)}))}})}window.addEventListener("beforeunload",()=>{X&&(X(),X=null),G&&(G.destroy(),G=null)});function we(){const e=document.querySelector(".artist-photo");if(!e)return;const t=e.querySelector("img");if(!t)return;const n=3,o=1e3;function s(a){const c=e.getBoundingClientRect();c.left+c.width/2,c.top+c.height/2;const h=a.clientX,r=a.clientY,y=window.innerWidth/2,d=window.innerHeight/2,l=(h-y)/y,f=(r-d)/d,m=l*n,p=-f*n;t&&(t.style.transform=`
        perspective(${o}px)
        rotateX(${p}deg)
        rotateY(${m}deg)
        scale3d(1.02, 1.02, 1.02)
      `),e.classList.add("active")}function i(){t&&(t.style.transform=`
        perspective(${o}px)
        rotateX(0deg)
        rotateY(0deg)
        scale3d(1, 1, 1)
      `),e.classList.remove("active")}return document.addEventListener("mousemove",s),document.addEventListener("mouseleave",i),document.addEventListener("touchstart",i),document.addEventListener("touchend",i),function(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseleave",i),document.removeEventListener("touchstart",i),document.removeEventListener("touchend",i),i()}}let X=null;class Re{constructor(){this.currentSlide=0,this.slides=[],this.slideImages=[],this.autoPlayInterval=null,this.autoPlayDelay=8e3,this.container=document.getElementById("slider-container"),this.dotsContainer=document.getElementById("slider-dots"),this.prevButton=document.getElementById("prev-slide"),this.nextButton=document.getElementById("next-slide"),this.overlayContent=document.querySelector("#hero-slider .text-center"),console.log("HeroSlider konstruktor:",{container:this.container,overlayContent:this.overlayContent,dotsContainer:this.dotsContainer}),this.featuredData=[],this.init()}async init(){if(console.log("HeroSlider.init() rozpoczęty"),!this.container){console.error("Brak kontenera slidera!");return}this.showLoader();try{console.log("Czekam na dane featured..."),await this.waitForFeaturedData(),console.log("Dane featured załadowane:",this.featuredData),console.log("Rozpoczynam preload obrazów..."),await this.preloadImages(),console.log("Obrazy preloadowane"),this.hideLoader(),console.log("Tworzę slides..."),this.createSlides(),console.log("Tworzę dots..."),this.createDots(),console.log("Dodaję event listenery..."),this.addEventListeners(),console.log("Pokazuję pierwszy slide..."),this.showSlide(0),console.log("Rozpocznij autoplay..."),this.startAutoPlay(),console.log("HeroSlider inicjalizacja zakończona pomyślnie")}catch(t){console.error("Błąd podczas inicjalizacji slidera:",t),this.hideLoader()}}async waitForFeaturedData(){console.log("Czekam na featuredArtworks...",B);let t=0;const n=50;for(;(!B||B.length===0)&&t<n;)await new Promise(o=>setTimeout(o,100)),t++,t%10===0&&console.log(`Próba ${t}/50 - featuredArtworks:`,B);if(!B||B.length===0)throw new Error("Nie udało się załadować danych featured po 5 sekundach");this.featuredData=B,console.log("Dane featured załadowane pomyślnie:",this.featuredData)}showLoader(){this.container&&(this.container.innerHTML=`
        <div class="slider-image-preloader">
          <div class="spinner"></div>
        </div>
      `)}hideLoader(){var n;const t=(n=this.container)==null?void 0:n.querySelector(".slider-image-preloader");t&&t.remove()}async preloadImages(){console.log("Rozpoczynam ładowanie obrazów featured:",this.featuredData);const t=this.featuredData.map(o=>new Promise((s,i)=>{const a=new Image;a.onload=()=>{console.log(`Załadowano obraz: ${o.title} - ${a.src}`),s({img:a,artwork:o})},a.onerror=()=>{console.error(`Błąd ładowania obrazu: ${o.image}`),i(new Error(`Nie można załadować obrazu: ${o.image}`))};const c=R(o.image);console.log(`Próba załadowania: ${o.image} -> ${c}`),a.src=c})),n=await Promise.all(t);this.slideImages=n,console.log("Wszystkie obrazy załadowane:",this.slideImages)}createSlides(){console.log("createSlides rozpoczęte, container:",this.container),this.slideImages.forEach(({img:t,artwork:n},o)=>{const s=document.createElement("img");s.className="slider-image",s.src=t.src,s.alt=n.title,s.loading="eager",s.style.objectFit="cover",s.style.width="100%",s.style.height="100%";const i=n.positionX||.5,a=n.positionY||.5;s.style.objectPosition=`${i*100}% ${a*100}%`,this.container.appendChild(s),this.slides.push({element:s,artwork:n})}),console.log("createSlides zakończone. Liczba slajdów:",this.slides.length)}createDots(){this.dotsContainer&&(this.dotsContainer.innerHTML="",this.slides.forEach((t,n)=>{const o=document.createElement("button");o.className="slider-dot",o.setAttribute("aria-label",`Przejdź do slajdu ${n+1}`),o.addEventListener("click",()=>this.goToSlide(n)),this.dotsContainer.appendChild(o)}))}addEventListeners(){console.log("Dodaję event listenery dla slidera..."),console.log("Elementy slidera:",{container:!!this.container,prevButton:!!this.prevButton,nextButton:!!this.nextButton,dotsContainer:!!this.dotsContainer}),this.prevButton?this.prevButton.addEventListener("click",()=>this.prevSlide()):console.warn("Brak przycisku prev!"),this.nextButton?this.nextButton.addEventListener("click",()=>this.nextSlide()):console.warn("Brak przycisku next!"),document.addEventListener("keydown",t=>{t.key==="ArrowLeft"?this.prevSlide():t.key==="ArrowRight"&&this.nextSlide()}),this.container&&(this.container.addEventListener("mouseenter",()=>this.pauseAutoPlay()),this.container.addEventListener("mouseleave",()=>this.startAutoPlay())),this.addPointerSupport(),this.addTouchEventsBackup(),console.log("Event listenery zostały dodane")}addPointerSupport(){const t=document.getElementById("hero-slider");if(!t||!("PointerEvent"in window))return;let n=0,o=0,s=!1,i=0,a=!1;const c=50,h=800,r=150,y=30;t.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(n=d.clientX,o=d.clientY,i=Date.now(),s=!0,a=!1,this.pauseAutoPlay(),t.setPointerCapture(d.pointerId))},{passive:!0}),t.addEventListener("pointermove",d=>{if(!s||d.pointerType!=="touch")return;const l=d.clientX,f=d.clientY,m=Math.abs(l-n),p=Math.abs(f-o);if(m>y||p>y)if(m>p)a||(a=!0),d.preventDefault();else{s=!1,this.startAutoPlay();return}},{passive:!1}),t.addEventListener("pointerup",d=>{if(!s||d.pointerType!=="touch")return;const l=d.clientX,f=d.clientY,m=Date.now(),p=n-l,v=Math.abs(o-f),b=m-i,S=Math.abs(p);a&&S>=c&&b<=h&&v<=r?(p>0?this.nextSlide():this.prevSlide(),setTimeout(()=>{this.startAutoPlay()},500)):this.startAutoPlay(),s=!1,a=!1},{passive:!0}),t.addEventListener("pointercancel",d=>{s&&d.pointerType==="touch"&&(s=!1,a=!1,this.startAutoPlay())},{passive:!0})}addTouchEventsBackup(){const t=document.getElementById("hero-slider");if(!t)return;let n=0,o=0,s=0,i=!1;const a=50,c=800,h=150;t.addEventListener("touchstart",r=>{n=r.touches[0].clientX,o=r.touches[0].clientY,s=Date.now(),i=!1,this.pauseAutoPlay()},{passive:!0}),t.addEventListener("touchmove",r=>{if(!n||!o)return;const y=r.touches[0].clientX,d=r.touches[0].clientY,l=Math.abs(y-n),f=Math.abs(d-o);if(!i&&(l>15||f>15))if(l>f&&l>15)i=!0,r.preventDefault();else{n=0,o=0,this.startAutoPlay();return}i&&r.preventDefault()},{passive:!1}),t.addEventListener("touchend",r=>{if(!n||!o)return;const d=Date.now()-s,l=r.changedTouches[0],f=n-l.clientX,m=Math.abs(o-l.clientY),p=Math.abs(f);i&&p>=a&&d<=c&&m<=h?(f>0?this.nextSlide():this.prevSlide(),setTimeout(()=>{this.startAutoPlay()},500)):this.startAutoPlay(),n=0,o=0,s=0,i=!1},{passive:!1}),t.addEventListener("touchcancel",r=>{n=0,o=0,s=0,i=!1,this.startAutoPlay()},{passive:!0})}showSlide(t){t<0||t>=this.slides.length||(this.slides.forEach((n,o)=>{n.element.classList.remove("active")}),this.slides[t].element.classList.add("active"),this.updateOverlayContent(t),this.updateDots(t),this.currentSlide=t)}updateOverlayContent(t){var i;if(!this.overlayContent)return;const n=this.slides[t].artwork,o=this.getCategorySlug(n),s=((i=g.common)==null?void 0:i.viewInGallery)||"Zobacz w Galerii";this.overlayContent.innerHTML=`
      <h1 class="text-5xl md:text-7xl font-bold mb-6 opacity-0 animate-fade-in">${n.title}</h1>
      <p class="text-xl md:text-2xl mb-8 opacity-0 animate-fade-in-delay">
        ${n.description}
      </p>
      <div class="opacity-0 animate-fade-in-delay-2">
        <a href="./src/pages/gallery.html#${o}" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105">
          ${s}
        </a>
      </div>
    `}getCategorySlug(t){return(t.galleryCategory||"wszystkie").replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z").replace(/\s+/g,"-")}updateDots(t){if(!this.dotsContainer)return;this.dotsContainer.querySelectorAll(".slider-dot").forEach((o,s)=>{o.classList.toggle("active",s===t)})}nextSlide(){const t=(this.currentSlide+1)%this.slides.length;this.goToSlide(t)}prevSlide(){const t=this.currentSlide===0?this.slides.length-1:this.currentSlide-1;this.goToSlide(t)}goToSlide(t){this.showSlide(t),this.restartAutoPlay()}startAutoPlay(){this.pauseAutoPlay(),this.autoPlayInterval=setInterval(()=>{this.nextSlide()},this.autoPlayDelay)}pauseAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}restartAutoPlay(){this.pauseAutoPlay(),this.startAutoPlay()}destroy(){this.pauseAutoPlay()}async refreshSlider(){try{console.log("Rozpoczynam odświeżanie slidera po zmianie języka..."),this.pauseAutoPlay(),await this.waitForFeaturedData(),console.log("Nowe dane featured załadowane:",this.featuredData),await this.preloadImages(),console.log("Obrazy przeładowane"),this.slides=[],this.container.innerHTML="",this.createSlides(),this.createDots();const t=this.currentSlide<this.slides.length?this.currentSlide:0;this.showSlide(t),this.startAutoPlay(),console.log("Slider został pomyślnie odświeżony po zmianie języka")}catch(t){console.error("Błąd podczas odświeżania slidera:",t)}}}function Ve(){const e=document.querySelector(".featured-artworks.horizontal-scroll");if(!e)return;function t(){const o=e.clientWidth;e.scrollWidth>o?e.style.justifyContent="flex-start":e.style.justifyContent="center"}t(),window.addEventListener("resize",()=>{setTimeout(t,100)}),e.querySelectorAll("img").forEach(o=>{o.complete?t():o.addEventListener("load",t)})}let G=null;function Fe(){const e=document.querySelector(".featured-artworks.horizontal-scroll");if(!e)return;let t;window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{typeof autoScrollInterval<"u"&&autoScrollInterval&&(clearInterval(autoScrollInterval),autoScrollInterval=null),e.getBoundingClientRect().width},250)})}function fe(){if(!g.navigation)return;const e={"nav-home":g.navigation.home,"nav-gallery":g.navigation.gallery,"nav-about":g.navigation.about,"nav-shop":g.navigation.shop};Object.entries(e).forEach(([s,i])=>{const a=document.getElementById(s);a&&(a.textContent=i)});const t={"mobile-nav-home":g.navigation.home,"mobile-nav-gallery":g.navigation.gallery,"mobile-nav-about":g.navigation.about,"mobile-nav-shop":g.navigation.shop};Object.entries(t).forEach(([s,i])=>{const a=document.getElementById(s);a&&(a.textContent=i)});const n=document.getElementById("contact-link");if(n&&g.topBar&&(n.textContent=g.topBar.contact),g.sections){const s=document.getElementById("featured-works-title");s&&(s.textContent=g.sections.featuredWorks);const i=document.getElementById("featured-works-description");i&&(i.textContent=g.sections.featuredWorksDescription);const a=document.getElementById("scroll-hint");a&&(a.textContent=g.sections.scrollHint);const c=document.getElementById("gallery-main-title");c&&(c.textContent=g.sections.galleryTitle);const h=document.getElementById("about-main-title");if(h){const I=E&&E.artistName;h.textContent=I||g.sections.aboutTitle}const r=document.getElementById("shop-main-title");r&&(r.textContent=g.sections.shopTitle);const y=document.getElementById("shop-description");y&&(y.innerHTML=g.sections.shopDescription);const d=document.getElementById("education-title");d&&(d.textContent=g.sections.education);const l=document.getElementById("achievements-title");l&&(l.textContent=g.sections.achievements);const f=document.getElementById("exhibitions-title");f&&(f.textContent=g.sections.exhibitions);const m=document.getElementById("contact-title");m&&(m.textContent=g.sections.contact);const p=document.getElementById("contact-subtitle");p&&(p.textContent=g.sections.contactSubtitle);const v=document.getElementById("follow-me-title");v&&(v.textContent=g.sections.followMe);const b=document.getElementById("social-description");b&&(b.textContent=g.sections.socialDescription);const S=document.getElementById("email-label");S&&(S.textContent=g.common.email);const L=document.getElementById("phone-label");L&&(L.textContent=g.common.phone)}const o=document.getElementById("current-language");if(o&&g.languages&&(o.textContent=z==="pl"?g.languages.firstLanguage:g.languages.secondLanguage),g.footer){const s=document.getElementById("footer-rights");s&&(s.textContent=g.footer.allRightsReserved);const i=document.getElementById("footer-icons");i&&(i.textContent=g.footer.icons);const a=document.getElementById("footer-author");a&&(a.textContent=g.footer.websiteAuthor)}}async function ce(){try{const e=se(),t=window.location.pathname;let n=e;t.includes("/pages/")&&!e&&(n="../..");const s=await(await fetch(`${n}/src/data/json/ui.json`)).json(),a=await(await fetch(`${n}/src/data/json/ui_en.json`)).json(),c=document.getElementById("first-language-option");c&&s.languages&&(c.textContent=s.languages.firstLanguage);const h=document.getElementById("second-language-option");h&&a.languages&&(h.textContent=a.languages.secondLanguage)}catch(e){console.error("Błąd podczas ładowania opcji języków:",e)}}function Ge(){if(!x.siteName)return;document.querySelectorAll("#portfolio-title").forEach(s=>{s&&(s.textContent=x.siteName)});const t=document.getElementById("footer-site-name");if(t&&(t.textContent=x.siteName),x.contact){document.querySelectorAll("#contact-link").forEach(r=>{r&&(r.removeAttribute("href"),r.onclick=y=>{y.preventDefault(),Ke()},r.style.cursor="pointer")}),document.querySelectorAll('[data-contact="email"]').forEach(r=>{r&&x.contact.email&&(r.tagName==="A"&&(r.href=`mailto:${x.contact.email}`),r.tagName==="SPAN"&&(r.textContent=x.contact.email))});const a=document.getElementById("contact-email-link");a&&x.contact.email&&(a.href=`mailto:${x.contact.email}`),document.querySelectorAll('[data-contact="phone"]').forEach(r=>{r&&x.contact.phone&&(r.tagName==="A"&&(r.href=`tel:${x.contact.phone.replace(/\s/g,"")}`),r.tagName==="SPAN"&&(r.textContent=x.contact.phone))});const h=document.getElementById("contact-phone-link");h&&x.contact.phone&&(h.href=`tel:${x.contact.phone.replace(/\s/g,"")}`)}x.socialMedia&&(document.querySelectorAll('[data-social="facebook"]').forEach(a=>{a&&x.socialMedia.facebook&&(a.href=x.socialMedia.facebook)}),document.querySelectorAll('[data-social="instagram"]').forEach(a=>{a&&x.socialMedia.instagram&&(a.href=x.socialMedia.instagram)}));const n=document.getElementById("contact-email-link"),o=document.getElementById("contact-phone-link");n&&n.addEventListener("click",s=>{var a;s.preventDefault();const i=((a=x.contact)==null?void 0:a.email)||"";i&&(oe(i,"email"),s.target.blur())}),o&&o.addEventListener("click",s=>{var a;s.preventDefault();const i=((a=x.contact)==null?void 0:a.phone)||"";i&&(oe(i,"phone"),s.target.blur())}),Ze(),_e()}function Ze(){const e=x.showShopInNav!==!1;document.querySelectorAll("#nav-shop, #mobile-nav-shop").forEach(n=>{if(n){const o=n.closest("li");o&&(e?o.style.display="":o.style.display="none")}})}function _e(){if(!x.siteName)return;const e=window.location.pathname;let t=x.siteName;e.includes("gallery.html")?t=`Galeria - ${x.siteName}`:e.includes("about.html")?t=`O Artyście - ${x.siteName}`:e.includes("shop.html")&&(t=`Sklep - ${x.siteName}`),document.title!==t&&(document.title=t,console.log(`📝 Tytuł strony zaktualizowany na: ${t}`))}async function Ue(e){if(e===z)return;z=e,localStorage.setItem("selectedLanguage",z),await Se(),await Ee(),fe(),ce();const t=window.location.pathname;t==="/"||t.includes("index.html")||!t.includes("/pages/")&&!t.includes("gallery.html")&&!t.includes("about.html")&&!t.includes("shop.html")?(ke(),de(),G&&typeof G.refreshSlider=="function"&&G.refreshSlider()):t.includes("about.html")?typeof re=="function"&&re():t.includes("gallery.html")?(Z(),Ie(),console.log("Galeria - język zmieniony na:",e)):t.includes("shop.html")&&(setTimeout(()=>ze(),50),console.log("Sklep - język zmieniony na:",e)),u.isOpen&&updateFocusModeContent(),await ce()}function Je(){const e=document.getElementById("language-selector"),t=document.getElementById("language-dropdown"),n=document.getElementById("language-arrow"),o=document.querySelectorAll(".language-option");if(!e||!t)return;const s=localStorage.getItem("selectedLanguage");s&&(s==="pl"||s==="en")&&(z=s),e.addEventListener("click",i=>{i.preventDefault(),t.classList.contains("hidden")?(t.classList.remove("hidden"),n.style.transform="rotate(180deg)"):(t.classList.add("hidden"),n.style.transform="rotate(0deg)")}),o.forEach(i=>{i.addEventListener("click",async a=>{a.preventDefault();const c=a.currentTarget.getAttribute("data-lang");c&&c!==z&&await Ue(c),t.classList.add("hidden"),n.style.transform="rotate(0deg)"})}),document.addEventListener("click",i=>{e.contains(i.target)||(t.classList.add("hidden"),n.style.transform="rotate(0deg)")})}function Ke(){var c,h;const e=document.getElementById("contact-dialog");e&&e.remove();const t=((c=x.contact)==null?void 0:c.email)||"malarzka.krakowska@gmail.com",n=((h=x.contact)==null?void 0:h.phone)||"+48 123 456 789",o=document.createElement("div");o.id="contact-dialog",o.className="fixed inset-0 bg-transparent flex items-center justify-center z-[9999] opacity-0 transition-opacity duration-300",o.innerHTML=`
    <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4 transform scale-90 transition-transform duration-300 relative" onclick="event.stopPropagation()">
      <!-- Przycisk X do zamknięcia -->
      <button 
        id="close-dialog-btn"
        class="absolute top-4 right-4 p-1 text-gray-400 hover:text-gray-600 transition-colors"
        title="${z==="pl"?"Zamknij":"Close"}"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
      
      <h3 class="text-xl font-bold mb-6 text-gray-800 pr-8">${z==="pl"?"Kontakt":"Contact"}</h3>
      
      <div class="space-y-6">
        <div class="flex items-center space-x-3">
          <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
            <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
          </svg>
          <div class="flex-1 flex flex-col justify-center">
            <p class="text-sm text-gray-600">Email</p>
            <p class="font-medium text-gray-800" id="dialog-email">${t}</p>
          </div>
          <button 
            id="copy-email-btn"
            class="p-2 text-gray-500 hover:text-blue-600 transition-colors flex-shrink-0"
            title="${z==="pl"?"Skopiuj email":"Copy email"}"
            data-text="${t}"
            data-type="email"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
            </svg>
          </button>
        </div>
        
        <div class="flex items-center space-x-3">
          <svg class="w-5 h-5 text-green-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
            <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"></path>
          </svg>
          <div class="flex-1 flex flex-col justify-center">
            <p class="text-sm text-gray-600">${z==="pl"?"Telefon":"Phone"}</p>
            <p class="font-medium text-gray-800" id="dialog-phone">${n}</p>
          </div>
          <button 
            id="copy-phone-btn"
            class="p-2 text-gray-500 hover:text-green-600 transition-colors flex-shrink-0"
            title="${z==="pl"?"Skopiuj telefon":"Copy phone"}"
            data-text="${n}"
            data-type="phone"
          >
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
            </svg>
          </button>
        </div>
      </div>
    </div>
  `,document.body.appendChild(o);const s=document.getElementById("close-dialog-btn"),i=document.getElementById("copy-email-btn"),a=document.getElementById("copy-phone-btn");s.addEventListener("click",xe),i.addEventListener("click",()=>{const r=i.getAttribute("data-text"),y=i.getAttribute("data-type");oe(r,y)}),a.addEventListener("click",()=>{const r=a.getAttribute("data-text"),y=a.getAttribute("data-type");oe(r,y)}),setTimeout(()=>{o.classList.remove("opacity-0");const r=o.querySelector("div div");r.classList.remove("scale-90"),r.classList.add("scale-100")},10),o.addEventListener("click",xe)}function xe(){const e=document.getElementById("contact-dialog");if(e){e.classList.add("opacity-0");const t=e.querySelector("div div");t&&(t.classList.remove("scale-100"),t.classList.add("scale-90")),setTimeout(()=>e.remove(),300)}}function oe(e,t){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{Me(t)}).catch(()=>{Le(e,t)}):Le(e,t)}function Le(e,t){const n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.left="-999999px",n.style.top="-999999px",document.body.appendChild(n),n.focus(),n.select();try{document.execCommand("copy"),Me(t)}catch(o){console.error("Błąd kopiowania:",o)}document.body.removeChild(n)}function Me(e){const t=document.getElementById("copy-notification");t&&t.remove();const n=document.createElement("div");n.id="copy-notification",n.className="fixed top-20 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-[10000] transform translate-x-full transition-transform duration-300";const o=e==="email"?z==="pl"?"Email skopiowany!":"Email copied!":z==="pl"?"Telefon skopiowany!":"Phone copied!";n.textContent=o,document.body.appendChild(n),setTimeout(()=>{n.classList.remove("translate-x-full")},10),setTimeout(()=>{n.classList.add("translate-x-full"),setTimeout(()=>n.remove(),300)},3e3)}
