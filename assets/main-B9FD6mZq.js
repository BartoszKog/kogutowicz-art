(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=o(s);fetch(s.href,a)}})();console.log("Portfolio artystyczne załadowane!");let w=[],m=[],j=[],u={};function T(){return window.location.hostname.includes("github.io")?"/kogutowicz-art":""}function x(t){const e=T(),o=window.location.pathname;console.log("correctImagePath:",{imagePath:t,basePath:e,currentPath:o});const n=t.startsWith("/")?t.substring(1):t;let s;return o.includes("/pages/")||o.includes("/gallery.html")||o.includes("/about.html")||o.includes("/shop.html")?e?s=`${e}/${n}`:s=`../../${n}`:e?s=`${e}/${n}`:s=`./${n}`,console.log("correctImagePath wynik:",s),s}async function B(){try{const t=T(),e=window.location.pathname;let o=t;e.includes("/pages/")&&!t&&(o="../.."),w=await(await fetch(`${o}/src/data/json/gallery.json`)).json(),m=await(await fetch(`${o}/src/data/json/featured.json`)).json(),j=await(await fetch(`${o}/src/data/json/shop.json`)).json(),u=await(await fetch(`${o}/src/data/json/about.json`)).json(),O()}catch(t){console.error("Błąd podczas ładowania danych:",t)}}function I(){const t=document.querySelector(".featured-artworks");t&&(t.innerHTML="",m.forEach(e=>{const o=document.createElement("div");o.className="bg-white rounded shadow-md overflow-hidden";const n=x(e.image);o.innerHTML=`
      <div class="h-64 bg-gray-200 flex items-center justify-center overflow-hidden">
        <img src="${n}" alt="${e.title||"Obraz"}" class="w-full h-full object-cover">
      </div>
      <div class="p-4">
        <h3 class="text-xl font-semibold mb-2">${e.title||"Bez tytułu"}</h3>
        ${e.description?`<p class="text-gray-600">${e.description}</p>`:""}
      </div>
    `,t.appendChild(o)}))}function L(t=w){const e=document.querySelector(".gallery-artworks");e&&(e.innerHTML="",t.forEach((o,n)=>{const s=document.createElement("div");s.className="bg-white rounded shadow-md overflow-hidden",s.setAttribute("data-artwork-index",n);const a=x(o.image);s.innerHTML=`
      <div class="h-64 bg-gray-200 flex items-center justify-center overflow-hidden">
        <img src="${a}" alt="${o.title||"Obraz"}" class="w-full h-full object-cover">
      </div>
      <div class="p-4">
        <h3 class="text-xl font-semibold mb-2">${o.title||"Bez tytułu"}</h3>
        ${o.technique||o.dimensions||o.year?`<p class="text-gray-600">${[o.technique,o.dimensions,o.year].filter(Boolean).join(", ")}</p>`:""}
        ${o.description?`<p class="text-sm mt-2">${o.description}</p>`:""}
        <p class="mt-2 ${o.available?"text-green-600":"text-gray-400"}">
          ${o.available?"Dostępny":"Niedostępny"}
        </p>
      </div>
    `,s.addEventListener("click",()=>{R(n,t)}),e.appendChild(s)}))}function D(){const t=document.querySelector(".shop-products");t&&(t.innerHTML="",j.forEach(e=>{const o=document.createElement("div");o.className="bg-white rounded shadow-md overflow-hidden";const n=x(e.image),s=e.available!==!1,a=s?"shop-purchase-button bg-purple-500 text-white px-6 py-3 rounded-lg hover:bg-purple-600 inline-block font-semibold transition-all duration-300 transform":"bg-gray-400 text-gray-600 px-4 py-2 rounded cursor-not-allowed inline-block",r=s?"Przejdź do zakupu":"Niedostępne",i=s?`href="${e.purchaseUrl}" target="_blank" rel="noopener noreferrer"`:'onclick="return false;"';o.innerHTML=`
      <div class="h-64 bg-gray-200 flex items-center justify-center overflow-hidden">
        <img src="${n}" alt="${e.title||"Produkt"}" class="w-full h-full object-cover">
      </div>
      <div class="p-4">
        <h3 class="text-xl font-semibold mb-2">${e.title||"Bez tytułu"}</h3>
        ${e.description?`<p class="text-gray-600">${e.description}</p>`:""}
        ${e.price?`<p class="text-purple-600 font-bold mt-2">${e.price} zł</p>`:""}        <div class="mt-4 flex items-center justify-between">
          <a ${i} class="${a}">
            ${r}
          </a>
          ${s?"":'<span class="text-gray-400 font-semibold text-sm">Sprzedane</span>'}
        </div>
      </div>
    `,t.appendChild(o)}))}function q(t,e){if(!t)return null;const o=t.replace(/-/g," ");if(e.includes(o))return o;o.replace(/a/g,"ą").replace(/c/g,"ć").replace(/e/g,"ę").replace(/l/g,"ł").replace(/n/g,"ń").replace(/o/g,"ó").replace(/s/g,"ś").replace(/z/g,"ź");for(const n of e)if(n.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z")===o)return n;return null}function $(t){if(!t)return w;const e=t.toLowerCase();return w.filter(o=>o.categories&&Array.isArray(o.categories)&&o.categories.some(n=>n&&n.toLowerCase()===e))}function H(){const t=document.querySelector(".category-filters");if(!t)return;t.className="category-filters loading";const e=new Map;w.forEach(l=>{l.categories&&Array.isArray(l.categories)&&l.categories.forEach(p=>{p&&p.trim()&&e.set(p,(e.get(p)||0)+1)})});const o=Array.from(e.entries()).sort((l,p)=>p[1]-l[1]).map(l=>l[0]);t.innerHTML="";const n=document.createElement("button");n.className="category-chip category-chip-active",n.textContent=`Wszystkie (${w.length})`,n.setAttribute("data-category","wszystkie"),n.addEventListener("click",()=>{L(),s(n),window.history.replaceState(null,null,window.location.pathname)}),t.appendChild(n),o.forEach(l=>{const p=e.get(l),h=document.createElement("button");h.className="category-chip category-chip-inactive",h.textContent=`${l} (${p})`,h.setAttribute("data-category",l),h.addEventListener("click",()=>{const y=$(l);L(y),s(h);const f=l.replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z").replace(/\s+/g,"-");window.history.replaceState(null,null,`${window.location.pathname}#${f}`)}),t.appendChild(h)});function s(l){t.querySelectorAll(".category-chip").forEach(p=>{p.className="category-chip category-chip-inactive"}),l.className="category-chip category-chip-active"}const a=window.location.hash.substring(1),r=q(a,o);let i=null,d=n;if(r&&r!=="wszystkie"){const l=Array.from(t.querySelectorAll(".category-chip")).find(p=>p.getAttribute("data-category")===r);l&&(i=r,d=l)}if(i){const l=$(i);L(l)}else L();s(d),setTimeout(()=>{t.classList.remove("loading")},300)}function N(){if(!document.querySelector(".about-artist-content"))return;const e=document.querySelector(".artist-photo"),o=document.querySelector(".artist-biography"),n=document.querySelector(".artist-education"),s=document.querySelector(".artist-achievements"),a=document.querySelector(".artist-exhibitions"),r=document.querySelector("h1");if(r&&(r.textContent=u.artistName||"O Artyście"),e&&u.artistPhoto){e.innerHTML=`
      <img src="${x(u.artistPhoto)}" alt="${u.artistName||"Artysta"}" 
           class="w-full h-full object-cover rounded">
    `,e.classList.add("has-image");const i=e.querySelector("img");i&&(i.onload=()=>{g&&g(),g=M()},i.complete&&(g&&g(),g=M()))}o&&u.biography&&Array.isArray(u.biography)&&u.biography.length>0&&(o.innerHTML="",u.biography.forEach(i=>{if(i&&i.trim()){const d=document.createElement("p");d.className="text-gray-700 mb-4";const l=i.replace(/\b([aiozwunazeprzypod])\s+/gi,"$1&nbsp;");d.innerHTML=l,o.appendChild(d)}})),n&&u.education&&Array.isArray(u.education)&&u.education.length>0&&(n.innerHTML="",u.education.forEach(i=>{if(i&&i.trim()){const d=document.createElement("li");d.className="list-disc list-inside text-gray-700";const l=i.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");d.innerHTML=l,n.appendChild(d)}})),s&&u.achievements&&Array.isArray(u.achievements)&&u.achievements.length>0&&(s.innerHTML="",u.achievements.forEach(i=>{if(i&&i.trim()){const d=document.createElement("li");d.className="list-disc list-inside text-gray-700";const l=i.replace(/\b([aiozwunazeprzypod])\s+/gi,"$1&nbsp;");d.innerHTML=l,s.appendChild(d)}})),a&&u.exhibitions&&Array.isArray(u.exhibitions)&&u.exhibitions.length>0&&(a.innerHTML="",u.exhibitions.forEach(i=>{if(i&&i.trim()){const d=document.createElement("li");d.className="list-disc list-inside text-gray-700";const l=i.replace(/\b([aiozwunazeprypod])\s+/gi,"$1&nbsp;");d.innerHTML=l,a.appendChild(d)}}))}function O(){const t=window.location.pathname;t.includes("gallery.html")?(L(),H()):t.includes("shop.html")?D():t.includes("about.html")?N():I()}function F(){const t=document.getElementById("mobile-menu-button"),e=document.getElementById("mobile-menu");if(!t||!e)return;let o=!1;function n(){o=!o,o?(e.classList.remove("hidden"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-label","Zamknij menu"),t.innerHTML=`
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      `,e.focus()):(e.classList.add("hidden"),t.setAttribute("aria-expanded","false"),t.setAttribute("aria-label","Otwórz menu"),t.innerHTML=`
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      `)}t.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation(),n()}),t.addEventListener("keydown",a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),a.stopPropagation(),n())}),window.addEventListener("resize",()=>{window.innerWidth>=768&&o&&n()}),e.querySelectorAll("a").forEach(a=>{a.addEventListener("click",()=>{o&&n()})}),document.addEventListener("keydown",a=>{a.key==="Escape"&&o&&(n(),t.focus())}),document.addEventListener("click",a=>{o&&!e.contains(a.target)&&!t.contains(a.target)&&n()}),e.addEventListener("keydown",a=>{const r=e.querySelectorAll("a"),i=Array.from(r).indexOf(document.activeElement);if(a.key==="ArrowDown"){a.preventDefault();const d=i<r.length-1?i+1:0;r[d].focus()}else if(a.key==="ArrowUp"){a.preventDefault();const d=i>0?i-1:r.length-1;r[d].focus()}else a.key==="Home"?(a.preventDefault(),r[0].focus()):a.key==="End"&&(a.preventDefault(),r[r.length-1].focus())})}let c={isOpen:!1,currentIndex:0,artworks:[],overlay:null};function R(t,e){c.currentIndex=t,c.artworks=e,c.isOpen=!0,document.body.classList.add("focus-mode-open"),c.overlay||X(),C(),c.overlay.classList.add("active"),W()}function A(){c.isOpen&&(c.isOpen=!1,document.body.classList.remove("focus-mode-open"),c.overlay&&(c.overlay.classList.remove("active"),setTimeout(()=>{c.overlay&&!c.isOpen&&(c.overlay.remove(),c.overlay=null)},300)),G())}function X(){const t=document.createElement("div");t.className="focus-mode-overlay",t.innerHTML=`
    <button class="focus-close-button" aria-label="Zamknij tryb skupienia">
      <svg class="focus-close-icon" viewBox="0 0 24 24">
        <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <button class="focus-nav-button prev" aria-label="Poprzedni obraz">
      <svg class="focus-nav-icon" viewBox="0 0 24 24">
        <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <button class="focus-nav-button next" aria-label="Następny obraz">
      <svg class="focus-nav-icon" viewBox="0 0 24 24">
        <path d="M9 18l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <div class="focus-mode-container">
      <img class="focus-mode-image" src="" alt="" />
      
      <div class="focus-mode-info">
        <h3 class="text-2xl font-bold mb-2"></h3>
        <div class="focus-mode-details"></div>
        <p class="focus-mode-description mt-3 text-gray-700"></p>
        <p class="focus-mode-availability mt-2"></p>
      </div>
    </div>
  `,document.body.appendChild(t),c.overlay=t;const e=t.querySelector(".focus-close-button"),o=t.querySelector(".focus-nav-button.prev"),n=t.querySelector(".focus-nav-button.next");e.addEventListener("click",A),o.addEventListener("click",()=>E("prev")),n.addEventListener("click",()=>E("next")),t.addEventListener("click",s=>{s.target===t&&A()})}function C(){if(!c.overlay)return;const t=c.artworks[c.currentIndex];if(!t)return;const e=c.overlay.querySelector(".focus-mode-image"),o=c.overlay.querySelector(".focus-mode-info h3"),n=c.overlay.querySelector(".focus-mode-details"),s=c.overlay.querySelector(".focus-mode-description"),a=c.overlay.querySelector(".focus-mode-availability");e.classList.add("loading");const r=x(t.image);e.src=r,e.alt=t.title||"Obraz",e.onload=()=>{e.classList.remove("loading")},o.textContent=t.title||"Bez tytułu";const i=[];t.technique&&i.push(t.technique),t.dimensions&&i.push(t.dimensions),t.year&&i.push(t.year),n.innerHTML=i.length>0?`<p class="text-gray-500">${i.join(" • ")}</p>`:"",s.textContent=t.description||"",s.style.display=t.description?"block":"none",a.innerHTML=`
    <span class="${t.available?"text-green-600":"text-gray-400"} font-semibold">
      ${t.available?"Dostępny":"Niedostępny"}
    </span>
  `,Y()}function E(t){const e=c.artworks.length;t==="next"?c.currentIndex=(c.currentIndex+1)%e:t==="prev"&&(c.currentIndex=(c.currentIndex-1+e)%e),C()}function Y(){if(!c.overlay)return;const t=c.overlay.querySelector(".focus-nav-button.prev"),e=c.overlay.querySelector(".focus-nav-button.next"),o=c.artworks.length>1;t.style.display=o?"flex":"none",e.style.display=o?"flex":"none"}let k,S;function W(){k=t=>{if(c.isOpen)switch(t.key){case"Escape":t.preventDefault(),A();break;case"ArrowLeft":t.preventDefault(),E("prev");break;case"ArrowRight":t.preventDefault(),E("next");break}},S=()=>{c.isOpen&&C()},document.addEventListener("keydown",k),window.addEventListener("resize",S)}function G(){k&&document.removeEventListener("keydown",k),S&&window.removeEventListener("resize",S)}document.addEventListener("DOMContentLoaded",()=>{console.log("DOMContentLoaded - inicjalizacja rozpoczęta"),B(),F();const t=window.location.pathname,e=t==="/"||t.endsWith("/index.html")||t===""||t.includes("kogutowicz-art")&&!t.includes("/pages/");console.log("Ścieżka:",t,"Czy strona główna:",e),e?(console.log("Inicjalizuję hero slider..."),z=new V,Z()):console.log("Nie jestem na stronie głównej, pomijam slider")});window.addEventListener("beforeunload",()=>{g&&(g(),g=null),z&&(z.destroy(),z=null)});function M(){const t=document.querySelector(".artist-photo");if(!t)return;const e=t.querySelector("img");if(!e)return;const o=3,n=1e3;function s(r){const i=t.getBoundingClientRect();i.left+i.width/2,i.top+i.height/2;const d=r.clientX,l=r.clientY,p=window.innerWidth/2,h=window.innerHeight/2,y=(d-p)/p,f=(l-h)/h,b=y*o,v=-f*o;e&&(e.style.transform=`
        perspective(${n}px)
        rotateX(${v}deg)
        rotateY(${b}deg)
        scale3d(1.02, 1.02, 1.02)
      `),t.classList.add("active")}function a(){e&&(e.style.transform=`
        perspective(${n}px)
        rotateX(0deg)
        rotateY(0deg)
        scale3d(1, 1, 1)
      `),t.classList.remove("active")}return document.addEventListener("mousemove",s),document.addEventListener("mouseleave",a),document.addEventListener("touchstart",a),document.addEventListener("touchend",a),function(){document.removeEventListener("mousemove",s),document.removeEventListener("mouseleave",a),document.removeEventListener("touchstart",a),document.removeEventListener("touchend",a),a()}}let g=null;class V{constructor(){this.currentSlide=0,this.slides=[],this.slideImages=[],this.autoPlayInterval=null,this.autoPlayDelay=8e3,this.container=document.getElementById("slider-container"),this.dotsContainer=document.getElementById("slider-dots"),this.prevButton=document.getElementById("prev-slide"),this.nextButton=document.getElementById("next-slide"),this.overlayContent=document.querySelector("#hero-slider .text-center"),console.log("HeroSlider konstruktor:",{container:this.container,overlayContent:this.overlayContent,dotsContainer:this.dotsContainer}),this.featuredData=[],this.init()}async init(){if(console.log("HeroSlider.init() rozpoczęty"),!this.container){console.error("Brak kontenera slidera!");return}this.showLoader();try{console.log("Czekam na dane featured..."),await this.waitForFeaturedData(),console.log("Dane featured załadowane:",this.featuredData),console.log("Rozpoczynam preload obrazów..."),await this.preloadImages(),console.log("Obrazy preloadowane"),this.hideLoader(),console.log("Tworzę slides..."),this.createSlides(),console.log("Tworzę dots..."),this.createDots(),console.log("Dodaję event listenery..."),this.addEventListeners(),console.log("Pokazuję pierwszy slide..."),this.showSlide(0),console.log("Rozpoczynam autoplay..."),this.startAutoPlay(),console.log("HeroSlider inicjalizacja zakończona pomyślnie")}catch(e){console.error("Błąd podczas inicjalizacji slidera:",e),this.hideLoader()}}async waitForFeaturedData(){console.log("Czekam na featuredArtworks...",m);let e=0;const o=50;for(;(!m||m.length===0)&&e<o;)await new Promise(n=>setTimeout(n,100)),e++,e%10===0&&console.log(`Próba ${e}/50 - featuredArtworks:`,m);if(!m||m.length===0)throw new Error("Nie udało się załadować danych featured po 5 sekundach");this.featuredData=m,console.log("Dane featured załadowane pomyślnie:",this.featuredData)}showLoader(){this.container&&(this.container.innerHTML=`
        <div class="slider-image-preloader">
          <div class="spinner"></div>
        </div>
      `)}hideLoader(){var o;const e=(o=this.container)==null?void 0:o.querySelector(".slider-image-preloader");e&&e.remove()}async preloadImages(){console.log("Rozpoczynam ładowanie obrazów featured:",this.featuredData);const e=this.featuredData.map(n=>new Promise((s,a)=>{const r=new Image;r.onload=()=>{console.log(`Załadowano obraz: ${n.title} - ${r.src}`),s({img:r,artwork:n})},r.onerror=()=>{console.error(`Błąd ładowania obrazu: ${n.image}`),a(new Error(`Nie można załadować obrazu: ${n.image}`))};const i=x(n.image);console.log(`Próba załadowania: ${n.image} -> ${i}`),r.src=i})),o=await Promise.all(e);this.slideImages=o,console.log("Wszystkie obrazy załadowane:",this.slideImages)}createSlides(){console.log("createSlides rozpoczęte, container:",this.container),this.slideImages.forEach(({img:e,artwork:o},n)=>{const s=document.createElement("img");s.className="slider-image",s.src=e.src,s.alt=o.title,s.loading="eager",s.style.objectFit="cover",s.style.width="100%",s.style.height="100%",this.container.appendChild(s),this.slides.push({element:s,artwork:o})}),console.log("createSlides zakończone. Liczba slajdów:",this.slides.length)}createDots(){this.dotsContainer&&(this.dotsContainer.innerHTML="",this.slides.forEach((e,o)=>{const n=document.createElement("button");n.className="slider-dot",n.setAttribute("aria-label",`Przejdź do slajdu ${o+1}`),n.addEventListener("click",()=>this.goToSlide(o)),this.dotsContainer.appendChild(n)}))}addEventListeners(){this.prevButton&&this.prevButton.addEventListener("click",()=>this.prevSlide()),this.nextButton&&this.nextButton.addEventListener("click",()=>this.nextSlide()),document.addEventListener("keydown",e=>{e.key==="ArrowLeft"?this.prevSlide():e.key==="ArrowRight"&&this.nextSlide()}),this.container&&(this.container.addEventListener("mouseenter",()=>this.pauseAutoPlay()),this.container.addEventListener("mouseleave",()=>this.startAutoPlay())),this.addTouchSupport()}addTouchSupport(){if(!this.container)return;let e=0,o=0,n=0,s=0,a=!1,r=0,i=!1;const d=30,l=1e3,p=100;this.container.addEventListener("touchstart",h=>{h.preventDefault(),i||(this.container.classList.add("touched"),i=!0),e=h.touches[0].clientX,o=h.touches[0].clientY,r=Date.now(),a=!0,this.pauseAutoPlay(),console.log("Touch start:",{startX:e,startY:o})},{passive:!1}),this.container.addEventListener("touchmove",h=>{if(!a)return;h.preventDefault();const y=h.touches[0].clientX,f=h.touches[0].clientY,b=Math.abs(y-e),v=Math.abs(f-o);if(v>b&&v>20){a=!1,this.startAutoPlay();return}},{passive:!1}),this.container.addEventListener("touchend",h=>{if(!a){this.startAutoPlay();return}n=h.changedTouches[0].clientX,s=h.changedTouches[0].clientY;const y=Date.now(),f=e-n,b=Math.abs(o-s),v=y-r,P=Math.abs(f);console.log("Touch end:",{deltaX:f,deltaY:b,swipeTime:v,swipeDistance:P,minDistance:d,maxTime:l,maxVertical:p}),P>=d&&v<=l&&b<=p?(console.log("Valid swipe detected:",f>0?"left (next)":"right (prev)"),f>0?this.nextSlide():this.prevSlide(),setTimeout(()=>{this.startAutoPlay()},500)):(console.log("Invalid swipe - resuming autoplay immediately"),this.startAutoPlay()),a=!1}),this.container.addEventListener("touchcancel",()=>{a&&(console.log("Touch cancelled"),a=!1,this.startAutoPlay())})}showSlide(e){e<0||e>=this.slides.length||(console.log(`Pokazuję slide ${e}/${this.slides.length-1}`),this.slides.forEach((o,n)=>{o.element.classList.remove("active"),console.log(`Slide ${n} ukryty:`,o.element)}),this.slides[e].element.classList.add("active"),console.log(`Slide ${e} pokazany:`,this.slides[e].element),this.updateOverlayContent(e),this.updateDots(e),this.currentSlide=e)}updateOverlayContent(e){if(!this.overlayContent)return;const o=this.slides[e].artwork,n=this.getCategorySlug(o.title);this.overlayContent.innerHTML=`
      <h1 class="text-5xl md:text-7xl font-bold mb-6 opacity-0 animate-fade-in">${o.title}</h1>
      <p class="text-xl md:text-2xl mb-8 opacity-0 animate-fade-in-delay">
        ${o.description}
      </p>
      <div class="opacity-0 animate-fade-in-delay-2">
        <a href="./src/pages/gallery.html#${n}" class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300 transform hover:scale-105">
          Zobacz w Galerii
        </a>
      </div>
    `}getCategorySlug(e){return({"Pejzaż lokalny":"pejzaż lokalny",Człowiek:"postacie","Martwa natura":"martwa natura","Botaniczne opowieści":"kwiaty"}[e]||"wszystkie").replace(/ą/g,"a").replace(/ć/g,"c").replace(/ę/g,"e").replace(/ł/g,"l").replace(/ń/g,"n").replace(/ó/g,"o").replace(/ś/g,"s").replace(/ź/g,"z").replace(/ż/g,"z").replace(/\s+/g,"-")}updateDots(e){if(!this.dotsContainer)return;this.dotsContainer.querySelectorAll(".slider-dot").forEach((n,s)=>{n.classList.toggle("active",s===e)})}nextSlide(){const e=(this.currentSlide+1)%this.slides.length;this.goToSlide(e)}prevSlide(){const e=this.currentSlide===0?this.slides.length-1:this.currentSlide-1;this.goToSlide(e)}goToSlide(e){this.showSlide(e),this.restartAutoPlay()}startAutoPlay(){this.pauseAutoPlay(),this.autoPlayInterval=setInterval(()=>{this.nextSlide()},this.autoPlayDelay)}pauseAutoPlay(){this.autoPlayInterval&&(clearInterval(this.autoPlayInterval),this.autoPlayInterval=null)}restartAutoPlay(){this.pauseAutoPlay(),this.startAutoPlay()}destroy(){this.pauseAutoPlay()}}let z=null;function Z(){const t=document.querySelector(".featured-artworks");if(!t)return;new IntersectionObserver(o=>{o.forEach(n=>{n.isIntersecting&&n.target.classList.add("visible")})},{threshold:.1,rootMargin:"0px 0px -100px 0px"}).observe(t)}
